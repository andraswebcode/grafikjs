/*! For license information please see grafik-vue.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.grafikVue=e():t.grafikVue=e()}(window,(()=>(()=>{"use strict";var t={433:(t,e)=>{e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[t,r]of e)n[t]=r;return n}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{Canvas:()=>Ci,Circle:()=>cs,Control:()=>Ni,Defs:()=>Di,Ellipse:()=>us,Group:()=>Ei,Image:()=>ds,Interactive:()=>ss,Path:()=>ps,Polygon:()=>ls,Polyline:()=>hs,Rect:()=>as,Selector:()=>is,ShapeBase:()=>ji,ShapeTree:()=>Bi,Text:()=>fs,TextPath:()=>ys,Wrapper:()=>Vi,createGrafik:()=>Ce,useCanvas:()=>wi,useCollection:()=>bi,useObject:()=>xi,withCollectionContext:()=>Oi});var t,e=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},o=function(){function t(){this._listeners={}}return t.prototype.on=function(t,e){var n=this;if("object"==typeof t)for(var r in t)this.on(r,t[r]);else"string"==typeof t&&-1!==t.indexOf(" ")?t.split(" ").forEach((function(t){return n.on(t,e)})):(this._listeners[t]||(this._listeners[t]=[]),-1===this._listeners[t].indexOf(e)&&this._listeners[t].push(e));return this},t.prototype.once=function(){return this},t.prototype.off=function(t,e){if("object"==typeof t)for(var n in t)this.off(n,t[n]);else{var r=this._listeners[t];if(r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}return this},t.prototype.trigger=function(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=this._listeners[t],a=this._listeners.all;if(s)for(var c=0;c<s.length;c++)(n=s[c]).call.apply(n,e(e([this],o,!1),[t],!1));if(a)for(c=0;c<a.length;c++)(r=a[c]).call.apply(r,e(e([this],o,!1),[t],!1));return this},t}(),i=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});function s(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.set=function(t,e,n){var r;if(void 0===n&&(n=!1),"string"==typeof t)this._set(t,e),n||this.trigger("set",((r={})[t]=e,r),this);else{for(var o in t)this._set(o,t[o]);e||this.trigger("set",t,this)}return this},e.prototype._set=function(t,e){"function"!=typeof this[t]&&void 0!==e&&(this[t]=e)},e.prototype.get=function(t){var e=this;return Array.isArray(t)?t.reduce((function(t,n){return t[n]=e[n],t}),{}):this[t]},e}(t)}var a=Math.PI/180,c=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u=function(t,e,n){return Math.min(Math.max(t,e),n)},p=function(t,e){return void 0===e&&(e=2),Math.round(t*Math.pow(10,e))/Math.pow(10,e)||0},l=function(t){return t*a},h=function(t){return t/a},f=function(t){var e,n=t?t+"-":"",r="";for(e=0;e<12;e++)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[(0,61,Math.floor(62*Math.random())+0)];return n+r},y=function(t,e,n){if(void 0===n&&(n=new Set),typeof t!=typeof e)return!1;if("object"!=typeof t||null===t||null===e)return t===e;if(t===e)return!0;if(n.has(t)||n.has(e))return!1;if(n.add(t),n.add(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!y(t[r],e[r],n))return!1;return!0}if("function"==typeof t&&"function"==typeof e)return t.toString()===e.toString();if("object"==typeof t&&"object"==typeof e){var o=Object.keys(t),i=Object.keys(e);if(o.length!==i.length)return!1;for(var s=0,a=o;s<a.length;s++){var c=a[s];if(!y(t[c],e[c],n))return!1}return!0}return!1},d={M:2,m:2,L:2,l:2,H:1,h:1,V:1,v:1,C:6,c:6,S:4,s:4,Q:4,q:4,T:2,t:2,A:7,a:7,Z:0,z:0},g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(){return _=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_.apply(this,arguments)},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.name="",e.className="",e}return g(e,t),e.prototype.getAttrMap=function(){return["className"]},e.prototype.getAttributes=function(t){var e,n=this;return void 0===t&&(t=!1),this.getAttrMap().reduce((function(r,o){var i;return void 0!==n[o]&&(e=n[o],e=Array.isArray(e)?e.join(" "):e,r[t?(i=o,i.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))):o]=e),r}),{})},e.prototype.getStyle=function(){return{}},e.prototype.createId=function(t){this.id||(this.id=f(t))},e.prototype.addClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.className.split(" ").filter((function(t){return t})),r=t.filter((function(t){return t&&!n.includes(t)}));return this.set("className",n.concat(r).join(" ")),this},e.prototype.removeClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.className.split(" ");return this.set("className",n.filter((function(e){return!t.includes(e)})).join(" ")),this},e.prototype.toJSON=function(){var t=this,e=t.id,n=t.name,r=t.tagName,o=_({id:e,name:n,tagName:r},this.getAttributes()),i=this.isCollection&&this.mapChildren((function(t){return t.toJSON()}));return i&&(o.children=i),o},e}(s(o)),m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function w(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCollection=!0,e.children=[],e}return m(e,t),Object.defineProperty(e.prototype,"childrenLength",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),e.prototype.setChildren=function(t,e){return void 0===e&&(e=!1),this.children=[],this.add(t,e),this},e.prototype.getChildren=function(){return this.children},e.prototype.add=function(t,e){var n=this;return void 0===e&&(e=!1),(t=Array.isArray(t)?t:[t]).forEach((function(t){n.children.includes(t)||(n.children.push(t),t.set("parent",n,!0))})),e||this.trigger("added",t),this},e.prototype.remove=function(t,e){var n,r=this;return void 0===e&&(e=!1),(t=Array.isArray(t)?t:[t]).forEach((function(t){-1!==(n=r.children.indexOf(t))&&r.children.splice(n,1)})),e||this.trigger("removed",t),this},e.prototype.eachChild=function(t){return this.children.forEach(t),this},e.prototype.mapChildren=function(t){return this.children.map(t)},e.prototype.reduceChildren=function(t,e){return this.children.reduce(t,e)},e.prototype.childAt=function(t){return this.children[t]},e.prototype.firstChild=function(){return this.children[0]},e.prototype.lastChild=function(){return this.children[this.childrenLength-1]},e.prototype.childById=function(t){return this.children.find((function(e){return e.id===t}))},e.prototype.childByName=function(t){return this.children.find((function(e){return e.name===t}))},e.prototype.childByIdDeep=function(t){var e=this.childById(t);return e||(this.eachChild((function(t){if(t.isCollection){var n=t.childByIdDeep(t);n&&(e=n)}})),e)},e.prototype.childByNameDeep=function(t){var e=this.childByName(t);return e||(this.eachChild((function(t){if(t.isCollection){var n=t.childByNameDeep(t);n&&(e=n)}})),e)},e.prototype.moveChildTo=function(t,e){var n=this.children.indexOf(t);return-1!==n&&(this.children.splice(n,1),this.children.splice(e,0,t),this.trigger("sorted",t,this.children)),this},e.prototype.moveChildUp=function(t){var e=this.children.indexOf(t);return this.moveChildTo(t,e+1)},e.prototype.moveChildDown=function(t){var e=this.children.indexOf(t);return this.moveChildTo(t,e-1)},e}(t)}var b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function x(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.add=function(t,e){var n=this;return void 0===e&&(e=!1),(t=Array.isArray(t)?t:[t]).forEach((function(t){var r;if(!n.children.includes(t)){if(n.children.push(t),t.set("parent",n,!0),n.isCanvas){var o=function(t){t.set("canvas",n,!0),n.on("set",(function(e){return t.trigger("canvas:set",e)})),n.getAnimation().add(t.getAnimation())};o(t),t.isCollection&&t.eachChild(o)}var i,s,a=t.get("_defs")||{},c=[];for(i in a)(null==(s=a[i])?void 0:s.isDefinition)&&c.push(s);c.length&&(null===(r=t.get("canvas"))||void 0===r||r.addDefs(c)),e||t.trigger("addedto",n)}})),e||this.trigger("added",t),this},e.prototype.findChildrenByPointer=function(t){return this.mapChildren((function(e){return e.toPolygon().containsPoint(t)&&e})).filter((function(t){return null==t?void 0:t.selectable}))},e.prototype.findLastChildByPointer=function(t){var e=this.findChildrenByPointer(t);return e[e.length-1]},e}(w(t))}var O=function(){function t(t,e){void 0===t&&(t=new S),void 0===e&&(e=new S),this.min=t,this.max=e}return t.prototype.fromSizeAndOrigin=function(t,e){void 0===e&&(e=new S(.5,.5));var n=t.clone().multiply(e).multiplyScalar(-1);return this.min.copy(n),this.max.copy(t.clone().add(n)),this},t.prototype.fromPoints=function(t){this.flip();for(var e=0;e<t.length;e++)this.expandByPoint(t[e]);return this},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.getSize=function(){return(new S).subtractPoints(this.max,this.min)},t.prototype.getOrigin=function(){return(new S).subtract(this.min).divide(this.getSize())},t.prototype.getLineEdges=function(t){var e=this.min.x,n=this.min.y,r=this.max.x,o=this.max.y,i=new S(e,o),s=new S(r,o),a=new S(e,n),c=new S(r,n);return t&&(i=i.transform(t),s=s.transform(t),a=a.transform(t),c=c.transform(t)),[i,s,c,a]},t.prototype.toPolygon=function(t){var e=this.getLineEdges(t),n=e[0],r=e[1],o=e[2],i=e[3];return new Z([new F(n),new k(n,r),new k(r,o),new k(o,i),new k(i,n)])},t.prototype.contains=function(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y},t.prototype.intersects=function(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y},t.prototype.transform=function(t){var e=t.tx,n=t.ty,r=this.getLineEdges(t.clone().translate(0,0));return this.fromPoints(r).translate(e,n)},t.prototype.translate=function(t,e){var n=new S(t,e);return this.min.add(n),this.max.add(n),this},t.prototype.reset=function(){return this.min.set(0,0),this.max.set(0,0),this},t.prototype.flip=function(){return this.min.set(1/0,1/0),this.max.set(-1/0,-1/0),this},t.prototype.isEqual=function(t){return this.min.isEqual(t.min)&&this.max.isEqual(t.max)},t.prototype.isEmpty=function(){return this.min.isEqual(this.max)},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),P=function(){function t(){this.r=0,this.g=0,this.b=0,this.a=1}return t.prototype.fromHEX=function(t){var e=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);return e&&(this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16),this.a=void 0!==e[4]?parseFloat(e[4]):1),this},t.prototype.fromRGB=function(t){var e=t.match(/^rgba?\(\s*(\d{1,3}(?:\.\d+)?)\s*,\s*(\d{1,3}(?:\.\d+)?)\s*,\s*(\d{1,3}(?:\.\d+)?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i);return e&&(this.r=parseInt(e[1],10),this.g=parseInt(e[2],10),this.b=parseInt(e[3],10),this.a=void 0!==e[4]?parseFloat(e[4]):1),this},t.prototype.fromHSL=function(t){return this},t.prototype.fromArray=function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3],this},t.prototype.fromObject=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.toHEX=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return t=1===t.length?"0"+t:t,e=1===e.length?"0"+e:e,n=1===n.length?"0"+n:n,"#"+t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},t.prototype.toHEXA=function(){var t=parseInt(255*this.a).toString(16);return t=1===t.length?"0"+t:t,this.toHEX()+t.toUpperCase()},t.prototype.toRGB=function(){var t=this,e=t.r,n=t.g,r=t.b;return"rgb(".concat(e,", ").concat(n,", ").concat(r,")")},t.prototype.toRGBA=function(){var t=this,e=t.r,n=t.g,r=t.b,o=t.a;return"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(o,")")},t.prototype.toHSL=function(){return""},t.prototype.toArray=function(){var t=this;return[t.r,t.g,t.b,t.a]},t.prototype.toObject=function(){var t=this;return{r:t.r,g:t.g,b:t.b,a:t.a}},t.prototype.copy=function(t){return this.fromArray(t.toArray())},t.prototype.clone=function(){return(new t).copy(this)},t.isColor=function(e){return t.isHEX(e)||t.isRGB(e)||t.isColorName(e)},t.isColorName=function(e){return t.isHEX(t.colorNameMap[e])},t.isHEX=function(t){var e=/^(#?)([a-f0-9]{3}){1,2}$/i.test(t),n=/^(#?)([a-f0-9]{8})$/i.test(t);return e||n},t.isRGB=function(t){var e=/^(rgb)[(]\s*([\d.]+\s*)\s*,\s*([\d.]+\s*)\s*,\s*([\d.]+\s*)\s*[)]$/.test(t),n=/^(rgba)[(]\s*([\d.]+\s*)\s*,\s*([\d.]+\s*)\s*,\s*([\d.]+\s*)\s*,\s*([\d.]+\s*)\s*[)]$/.test(t);return e||n},t.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32",none:"#00000000",transparent:"#00000000"},t}(),S=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.set(t,e)}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.fromObject=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t.prototype.fromString=function(t,e){void 0===e&&(e=", ");var n=t.split(e).map((function(t){return parseFloat(t)}));return this.x=n[0],this.y=n[1],this},t.prototype.toString=function(t){return void 0===t&&(t=" "),[this.x,this.y].join(t)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addPoints=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subtractPoints=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.multiplyPoints=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.x/=t,this.y/=t,this},t.prototype.dividePoints=function(t,e){return this.x=t.x/e.x,this.y=t.y/e.y,this},t.prototype.lerp=function(t,e){return e=u(e,0,1),this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.rotate=function(t,e){var n=l(e),r=Math.cos(n),o=Math.sin(n),i=this.x-t.x,s=this.y-t.y;return this.x=i*r-s*o+t.x,this.y=i*o+s*r+t.y,this},t.prototype.angleTo=function(t){return h(Math.atan2(t.y-this.y,t.x-this.x))},t.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.transform=function(t){var e=this.x,n=this.y,r=t.a,o=t.b,i=t.c,s=t.d,a=t.tx,c=t.ty;return this.x=r*e+i*n+a,this.y=o*e+s*n+c,this},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},t.prototype.minPoints=function(t,e){return this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},t.prototype.maxPoints=function(t,e){return this.x=Math.max(t.x,e.x),this.y=Math.max(t.y,e.y),this},t.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t.prototype.clamp=function(t,e){return this.x=u(this.x,t.x,e.x),this.y=u(this.y,t.y,e.y),this},t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y},t.prototype.copy=function(t){return this.set(t.x,t.y),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),A=new S,C=function(){function t(){this.command="",this._bBox=new O}return t.prototype.getPoint=function(t){return console.warn("getPoint() must be implemented by subclass."),new S},t.prototype.getPoints=function(t){void 0===t&&(t=10);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},t.prototype.updateBBox=function(){return this._bBox.fromPoints(this.getPoints()),this},t.prototype.getBBox=function(){return this._bBox},t.prototype.fromArray=function(t,e,n){var r,o,i,s=n[e-1]||[],a=s.length,c=t.length,u=t[0]===t[0].toLowerCase(),p=new S(s[a-2],s[a-1]);for(this.p0&&("M"===this.command?this.p0.set(t[1],t[2]):this.p0.copy(p)),o=0,i=1;o<c-1;o+=2,i++)(r=this["p"+i])&&(r.set(t[o+1],t[o+2]),u&&r.add(p));return this},t.prototype.toString=function(){for(var t=[],e="M"===this.command?0:1;this["p"+e];)t.push(this["p"+e].toString()),e++;return this.command+" "+t.join(" ")},t.prototype.translate=function(t,e){for(var n=0;this["p"+n];)this["p"+n].add(A.set(t,e)),n++;return this},t}(),j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){void 0===e&&(e=new S);var n=t.call(this)||this;return n.command="M",n.p0=e,n}return j(e,t),e.prototype.getPoint=function(t){return this.p0.clone()},e.prototype.getPoints=function(t){return void 0===t&&(t=10),[this.getPoint(0)]},e}(C),E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(e,n){void 0===e&&(e=new S),void 0===n&&(n=new S);var r=t.call(this)||this;return r.command="L",r.p0=e,r.p1=n,r}return E(e,t),e.prototype.getPoint=function(t){t=u(t,0,1);var e=this.p1.clone();return 1===t||e.subtract(this.p0).multiplyScalar(t).add(this.p0),e},e}(C),B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.command="H",e}return B(e,t),e.prototype.fromArray=function(t,e,n){for(var r,o=n[e-1]||[],i=o.length,s=t[0]===t[0].toLowerCase(),a=new S(o[i-2],o[i-1]),c=0,u=0,p=!1,l=!1,h=e;2===n[h--].length;)switch(r=n[h],n[h-1],r[0]){case"H":p||(c=r[1],p=!0);break;case"V":l||(u=r[1],l=!0);break;default:p||(c=r[r.length-2],p=!0),l||(u=r[r.length-1],l=!0)}return this.p0.set(c,u),this.p1.set(t[1],u),s&&(this.p0.add(a),this.p1.add(a)),this},e.prototype.toString=function(){return this.command+" "+this.p1.x},e}(k),T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.command="V",e}return T(e,t),e.prototype.fromArray=function(t,e,n){for(var r,o=n[e-1]||[],i=o.length,s=t[0]===t[0].toLowerCase(),a=new S(o[i-2],o[i-1]),c=0,u=0,p=!1,l=!1,h=e;2===n[h--].length;)switch(r=n[h],n[h-1],r[0]){case"H":p||(c=r[1],p=!0);break;case"V":l||(u=r[1],l=!0);break;default:p||(c=r[r.length-2],p=!0),l||(u=r[r.length-1],l=!0)}return this.p0.set(c,u),this.p1.set(c,t[1]),s&&(this.p0.add(a),this.p1.add(a)),this},e.prototype.toString=function(){return this.command+" "+this.p1.y},e}(k),L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(e,n,r,o,i,s,a){void 0===e&&(e=new S),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=new S);var c=t.call(this)||this;return c.command="A",c.p0=e,c.p1=a,c.rx=n,c.ry=r,c.xAxisRotation=o,c.largeArcFlag=i,c.sweepFlag=s,c}return L(e,t),e.prototype.getPoint=function(t){return new S},e.prototype.fromArray=function(t,e,n){var r=n[e-1]||[],o=r.length;return t.length,this.p0.set(r[o-2],r[o-1]),this.rx=t[1],this.ry=t[2]||0,this.xAxisRotation=t[3]||0,this.largeArcFlag=t[4]||0,this.sweepFlag=t[5]||0,this.p1.set(t[6]||0,t[7]||0),this},e.prototype.toString=function(){var t=this,e=t.command,n=t.rx,r=t.ry,o=t.xAxisRotation,i=t.largeArcFlag,s=t.sweepFlag,a=t.p1;return"".concat(e," ").concat(n," ").concat(r," ").concat(o," ").concat(i," ").concat(s," ").concat(a.toString())},e}(C),z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t){function e(e,n,r){void 0===e&&(e=new S),void 0===n&&(n=new S),void 0===r&&(r=new S);var o=t.call(this)||this;return o.command="Q",o.p0=e,o.p1=n,o.p2=r,o}return z(e,t),e.prototype.getPoint=function(t){return new S(e.interpolation(t,this.p0.x,this.p1.x,this.p2.x),e.interpolation(t,this.p0.y,this.p1.y,this.p2.y))},e.interpolation=function(t,e,n,r){var o=1-t;return o*o*e+2*o*t*n+t*t*r},e}(C),V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(e,n,r,o){void 0===e&&(e=new S),void 0===n&&(n=new S),void 0===r&&(r=new S),void 0===o&&(o=new S);var i=t.call(this)||this;return i.command="C",i.p0=e,i.p1=n,i.p2=r,i.p3=o,i}return V(e,t),e.prototype.getPoint=function(t){return new S(e.interpolation(t,this.p0.x,this.p1.x,this.p2.x,this.p3.x),e.interpolation(t,this.p0.y,this.p1.y,this.p2.y,this.p3.y))},e.interpolation=function(t,e,n,r,o){var i=1-t;return i*i*i*e+3*i*i*t*n+3*i*t*t*r+t*t*t*o},e}(C),W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.command="T",e}return W(e,t),e.prototype.fromArray=function(t,e,n){var r=n[e-1]||[],o=r.length,i=t[0]===t[0].toLowerCase(),s=["Q","q","T","t"].includes(r[0]),a=new S(r[o-2],r[o-1]),c=new S(r[o-4],r[o-3]);if(this.p0.copy(a),s?this.p1.copy(a).multiplyScalar(2).subtract(c):(console.warn("The previous command must be an other T, or Q command."),this.p1.copy(a)),this.p2.set(t[1]||0,t[2]||0),i)for(var u=0;u<4;u++)this["p"+u].add(a);return this},e.prototype.toString=function(){return this.command+" "+this.p2.toString()},e}(I),q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.command="S",e}return q(e,t),e.prototype.fromArray=function(t,e,n){var r=n[e-1]||[],o=r.length,i=t[0]===t[0].toLowerCase(),s=["C","c","S","s"].includes(r[0]),a=new S(r[o-2],r[o-1]),c=new S(r[o-4],r[o-3]);if(this.p0.copy(a),s?this.p1.copy(a).multiplyScalar(2).subtract(c):(console.warn("The previous command must be an other S, or C command."),this.p1.copy(a)),this.p2.set(t[1]||0,t[2]||0),this.p3.set(t[3]||0,t[4]||0),i)for(var u=0;u<4;u++)this["p"+u].add(a);return this},e.prototype.toString=function(){return this.command+" "+this.p2.toString()+" "+this.p3.toString()},e}(R),Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.command="Z",e}return Y(e,t),e.prototype.getPoints=function(t){return void 0===t&&(t=10),[]},e}(C),G={M:F,L:k,V:D,H:M,Q:I,C:R,T:X,S:H,A:N,Z:$},K=new S;function U(t,e){var n,r,o=1/0,i=-1/0;for(n=0;n<t.length;n++)r=t[n].dot(e),o=Math.min(o,r),i=Math.max(i,r);return{min:o,max:i}}function J(t,e,n){var r=U(t,n),o=U(e,n);return r.max<o.min||o.max<r.min}var Q,Z=function(){function t(t){this._curves=[],this._currentCommand="",this._currentPoint=new S,this._currentControlPoint=new S,this._bBox=new O,t&&this.set(t)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._curves.length},enumerable:!1,configurable:!0}),t.prototype.at=function(t){return this._curves[t]},t.prototype.add=function(t){var e;return t=Array.isArray(t)?t:[t],(e=this._curves).push.apply(e,t),this},t.prototype.remove=function(t){return t=Array.isArray(t)?t:[t],this._curves=this._curves.filter((function(e){return!t.includes(e)})),this},t.prototype.set=function(t){return this._curves=[],this.add(t)},t.prototype.moveTo=function(t,e){var n=new F(new S(t,e));return this._currentPoint.set(t,e),this._currentCommand="M",this.add(n)},t.prototype.lineTo=function(t,e){var n=new k(this._currentPoint.clone(),new S(t,e));return this._currentPoint.set(t,e),this._currentCommand="L",this.add(n)},t.prototype.horizontalLineTo=function(t){var e=this._currentPoint.clone(),n=new M(e,new S(t,e.y));return this._currentPoint.setX(t),this._currentCommand="H",this.add(n)},t.prototype.verticalLineTo=function(t){var e=this._currentPoint.clone(),n=new D(e,new S(e.x,t));return this._currentPoint.setY(t),this._currentCommand="V",this.add(n)},t.prototype.quadraticCurveTo=function(t,e,n,r){var o=new I(this._currentPoint.clone(),new S(t,e),new S(n,r));return this._currentPoint.set(n,r),this._currentControlPoint.set(t,e),this._currentCommand="Q",this.add(o)},t.prototype.smoothQuadraticCurveTo=function(t,e){"T"!==this._currentCommand&&"Q"!==this._currentCommand&&console.warn("The previous method must be an other smoothQuadraticCurveTo(), or a quadraticCurveTo().");var n=this._currentPoint.clone().multiplyScalar(2).subtract(this._currentControlPoint),r=new X(this._currentPoint.clone(),n,new S(t,e));return this._currentPoint.set(t,e),this._currentControlPoint.copy(n),this._currentCommand="T",this.add(r)},t.prototype.cubicCurveTo=function(t,e,n,r,o,i){var s=new R(this._currentPoint.clone(),new S(t,e),new S(n,r),new S(o,i));return this._currentPoint.set(o,i),this._currentControlPoint.set(n,r),this._currentCommand="C",this.add(s)},t.prototype.smoothCubicCurveTo=function(t,e,n,r){"S"!==this._currentCommand&&"C"!==this._currentCommand&&console.warn("The previous method must be an other smoothCubicCurveTo(), or a cubicCurveTo().");var o=this._currentPoint.clone().multiplyScalar(2).subtract(this._currentControlPoint);return new H(this._currentPoint.clone(),o,new S(t,e),new S(n,r)),this._currentPoint.set(n,r),this._currentControlPoint.copy(o),this._currentCommand="S",this},t.prototype.arcTo=function(t,e,n,r,o,i,s){var a=new N(this._currentPoint.clone(),t,e,n,r,o,new S(i,s));return this._currentPoint.set(i,s),this._currentCommand="A",this.add(a)},t.prototype.closePath=function(){var t=new $;return this._currentCommand="Z",this.add(t)},t.prototype.fromString=function(t){var e=function(t){var e=[];return(t.match(/([MmLlHhVvCcSsQqTtAaZz])([^MmLlHhVvCcSsQqTtAaZz]+)?/g)||[]).forEach((function(t,n,r){var o=(t=t.trim()).replace(/[^MmLlHhVvCcSsQqTtAaZz]/g,""),i=(t.match(/[\-\.\d]+/g)||[]).map((function(t){return p(t)})),s=d[o];i.length===s?e.push(c([o],i,!0)):function(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}(i,s).forEach((function(t){e.push(c([o],t,!0))}))})),e}(t).map((function(t,e,n){var r=(t[0]||"").toUpperCase();return(new(0,G[r])).fromArray(t,e,n)}));return this.set(e)},t.prototype.toString=function(){return this._curves.map((function(t){return t.toString(" ")})).join(" ")},t.prototype.fromNumbers=function(t){for(var e=t.replace(/\,\s?/g," ").split(" ").map((function(t){return p(t)})),n=[],r=0;r<e.length;r+=2)n.push(new k(new S(e[r],e[r+1]),new S(e[(r+2)%e.length],e[(r+3)%e.length])));return this.set(n)},t.prototype.toNumbers=function(){return this.mapCurves((function(t){if(t instanceof k)return t.p0.toString()})).filter((function(t){return!!t})).join(" ")},t.prototype.toPoints=function(t){var e;return this.mapCurves((function(e){return e.getPoints(t)})).flat().filter((function(t,n,r){return!(e=r[n-1])||!t.isEqual(e)}))},t.prototype.updateBBox=function(){var t=this;return this._bBox.flip(),this.eachCurve((function(e){t._bBox.union(e.updateBBox().getBBox())}))},t.prototype.getBBox=function(){return this._bBox},t.prototype.adjust=function(){var t=this._bBox.min,e=t.x,n=t.y;return this.eachCurve((function(t){t.translate(-e,-n)})),this},t.prototype.containsPoint=function(t,e){var n,r,o,i,s,a,c=t.x,u=t.y,p=this.toPoints(e),l=!1;for(n=0,r=p.length-1;n<p.length;r=n++)o=p[n].x,i=p[n].y,s=p[r].x,i>u!=(a=p[r].y)>u&&c<(s-o)*(u-i)/(a-i)+o&&(l=!l);return l},t.prototype.intersects=function(t,e){var n,r,o,i,s,a=this.toPoints(e),c=t.toPoints(e),u=a.length,p=c.length;for(n=0;n<u;n++)if(r=a[n],o=a[(n+1)%u],K.copy(o).subtract(r),i=K.x,s=K.y,J(a,c,K.set(-s,i)))return!1;for(n=0;n<p;n++)if(r=c[n],o=c[(n+1)%p],K.copy(o).subtract(r),i=K.x,s=K.y,J(a,c,K.set(-s,i)))return!1;return!0},t.prototype.eachCurve=function(t){return this._curves.forEach(t),this},t.prototype.mapCurves=function(t){return this._curves.map(t)},t}(),tt=function(){function t(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}return t.prototype.fromArray=function(t){return this.a=t[0],this.b=t[1],this.c=t[2],this.d=t[3],this.tx=t[4],this.ty=t[5],this},t.prototype.fromObject=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.fromOptions=function(t){var e=t.left,n=t.top,r=t.angle,o=t.scaleX,i=t.scaleY,s=t.skewX,a=t.skewY;return this.reset(),this.translate(e,n),this.rotate(r),this.scaleX(o),this.scaleY(i),this.skewX(s),this.skewY(a),this},t.prototype.fromCSS=function(t){var e=t.replace("matrix(","").replace(")","").split(" ").map(parseFloat);return this.fromArray(e),this},t.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]},t.prototype.toObject=function(){return{a:this.a,b:this.b,c:this.c,d:this.d,tx:this.tx,ty:this.ty}},t.prototype.toOptions=function(){var t=this,e=t.a,n=t.b,r=t.c,o=t.d,i=t.tx,s=t.ty,a=h(Math.atan2(n,e)),c=Math.pow(e,2)+Math.pow(n,2),u=Math.sqrt(c);return{left:i,top:s,angle:a,scaleX:u,scaleY:(e*o-r*n)/u,skewX:h(Math.atan2(e*r+n*o,c)),skewY:0}},t.prototype.toCSS=function(){var t=this.toArray().join(", ");return"matrix(".concat(t,")")},t.prototype.translate=function(t,e){return this.tx=t,this.ty=e,this},t.prototype.rotate=function(e){if(!e)return this;var n=l(e),r=Math.cos(n),o=Math.sin(n),i=(new t).fromArray([r,o,-o,r,0,0]);return this.multiply(i)},t.prototype.scale=function(e,n){if(void 0===e)return this;void 0===n&&(n=e);var r=(new t).fromArray([e,0,0,n,0,0]);return this.multiply(r)},t.prototype.scaleX=function(e){if(void 0===e)return this;var n=(new t).fromArray([e,0,0,1,0,0]);return this.multiply(n)},t.prototype.scaleY=function(e){if(void 0===e)return this;var n=(new t).fromArray([1,0,0,e,0,0]);return this.multiply(n)},t.prototype.skewX=function(e){if(!e)return this;var n=l(e),r=(new t).fromArray([1,0,Math.tan(n),1,0,0]);return this.multiply(r)},t.prototype.skewY=function(e){if(!e)return this;var n=l(e),r=(new t).fromArray([1,Math.tan(n),0,1,0,0]);return this.multiply(r)},t.prototype.multiply=function(t){var e=this.a*t.a+this.c*t.b,n=this.b*t.a+this.d*t.b,r=this.a*t.c+this.c*t.d,o=this.b*t.c+this.d*t.d,i=this.a*t.tx+this.c*t.ty+this.tx,s=this.b*t.tx+this.d*t.ty+this.ty;return this.fromObject({a:e,b:n,c:r,d:o,tx:i,ty:s})},t.prototype.invert=function(){var t=this,e=t.a,n=t.b,r=t.c,o=t.d,i=t.tx,s=t.ty,a=e*o-n*r;return 0===a?this.fromArray([0,0,0,0,0,0]):this.fromArray([o/a,-n/a,-r/a,e/a,(r*s-o*i)/a,(n*i-e*s)/a])},t.prototype.reset=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.copy=function(t){return this.fromArray(t.toArray())},t.prototype.clone=function(){return(new t).copy(this)},t}(),et=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){return nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nt.apply(this,arguments)},rt=new S,ot=new S,it=new S,st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName="div",e.className="grafik-selector",e.bBox=new O,e}return et(e,t),e.prototype.getAttributes=function(){var e=t.prototype.getAttributes.call(this);return nt(nt({},e),{"data-selector":!0})},e.prototype.getStyle=function(){var t=this.bBox,e=t.min,n=t.max;return rt.minPoints(e,n),ot.maxPoints(e,n),it.subtractPoints(ot,rt),{left:rt.x+"px",top:rt.y+"px",width:it.x+"px",height:it.y+"px"}},e}(v),at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ct=function(){return ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ct.apply(this,arguments)},ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName="div",e.className="grafik-control",e}return at(e,t),e.prototype.init=function(t){this.set(t),this.setNodes(),this.onPointerStart=this.onPointerStart.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnd=this.onPointerEnd.bind(this)},e.prototype.setNodes=function(){return this},e.prototype.getSize=function(){var t=this.shape.getWorldMatrix().toOptions(),e=t.scaleX,n=t.scaleY;return this.shape.bBox.getSize().multiply(new S(e,n))},e.prototype.getStyle=function(){var t=this.shape,e=t.getWorldMatrix(!0).toOptions(),n=e.left,r=e.top,o=e.angle,i=this.getSize(),s=t.origin.clone().multiplyScalar(100),a=s.x,c=s.y;return{width:Math.abs(i.x)+"px",height:Math.abs(i.y)+"px",left:n+"px",top:r+"px",transform:"translate(".concat(-a,"%, ").concat(-c,"%) rotate(").concat(o,"deg)"),transformOrigin:"".concat(a,"% ").concat(c,"%")}},e.prototype.getAttributes=function(){var e=t.prototype.getAttributes.call(this);return ct(ct({},e),{"data-control":!0,"data-shape":this.shape.get("id")})},e.prototype.onPointerStart=function(t){},e.prototype.onPointerMove=function(t){},e.prototype.onPointerEnd=function(t){},e}(w(v)),pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lt.apply(this,arguments)},ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName="div",e.className="grafik-control-node",e.name="",e.offset=new S,e}return pt(e,t),e.prototype.init=function(t){this.set(t),this.createId("node"),this.name&&this.addClass("grafik-control-node__"+this.name),t.getPosition&&(this.getPosition=t.getPosition.bind(this)),this.onPointerStart=this.onPointerStart.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnd=this.onPointerEnd.bind(this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.offset.x},set:function(t){this.offset.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.offset.y},set:function(t){this.offset.y=t},enumerable:!1,configurable:!0}),e.prototype.getPosition=function(){var t=this.getControlSize(),e=this.offset,n=e.x,r=e.y;return new S(t.x*n,t.y*r)},e.prototype.connectTo=function(t){return this.connectedWith=t,t},e.prototype.getLineMatrix=function(){if(!this.connectedWith)return new tt;var t=this.getPosition(),e=this.connectedWith.getPosition(),n=new tt,r=-t.angleTo(e);return n.rotate(r)},e.prototype.getShape=function(){return this.parent.shape},e.prototype.getControlSize=function(){return this.parent.getSize()},e.prototype.getStyle=function(){var t=this.getPosition();return{left:t.x+"px",top:t.y+"px"}},e.prototype.getAttributes=function(){var e=t.prototype.getAttributes.call(this);return lt(lt({},e),{"data-control-node":!0,"data-id":this.id,"data-name":this.name,"data-shape":this.getShape().get("id")})},e.prototype.onPointerStart=function(t){},e.prototype.onPointerMove=function(t){},e.prototype.onPointerEnd=function(t){},e}(w(v)),ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(t){function e(e){var n=t.call(this)||this;return n._isDragging=!1,n._startVector=new S,n.init(e),n.addClass("grafik-transform-control"),n}return ft(e,t),e.prototype.setNodes=function(){var t=this,e=t.shape,n=new St({name:"tl",axis:"",x:0,y:0}),r=new St({name:"tc",axis:"y",x:.5,y:0}),o=new St({name:"tr",axis:"",x:1,y:0}),i=new St({name:"ml",axis:"x",x:0,y:.5}),s=new St({name:"mr",axis:"x",x:1,y:.5}),a=new St({name:"bl",axis:"",x:0,y:1}),c=new St({name:"bc",axis:"y",x:.5,y:1}),u=new St({name:"br",axis:"",x:1,y:1}),p=new bt({name:"a",getPosition:function(){var e=t.getSize().x;return new S(e+20,-20)}}),l=new Ot({name:"o",getPosition:function(){var n=t.getSize(),r=e.get("origin"),o=r.x,i=r.y;return new S(n.x*o,n.y*i)}});return this.add([n,r,o,i,s,a,c,u,p,l]),this},e.prototype.onPointerStart=function(t){var e=this.shape,n=e.get("canvas"),r=e.getWorldMatrix().toOptions(),o=r.left,i=r.top;this._isDragging=!0,this._startVector.subtractPoints(n.getPointer(t),new S(o,i))},e.prototype.onPointerMove=function(t){if(this._isDragging){var e=this.shape,n=e.get("canvas"),r=e.parent.isCanvas?n.get("viewportMatrix").clone():e.parent.getWorldMatrix(),o=n.getPointer(t).subtract(this._startVector).transform(r.invert());e.set({left:p(o.x),top:p(o.y)})}},e.prototype.onPointerEnd=function(t){if(this._isDragging){var e=this.shape,n=e.left,r=e.top;this.shape.trigger("updated",{left:n,top:r},this.shape),this.shape.canvas&&this.shape.canvas.trigger("shapes:updated",{left:n,top:r},this.shape)}this._isDragging=!1},e}(ut),dt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(t){function e(e){var n=t.call(this)||this;return n.init(e),n.addClass("grafik-path-control"),n}return dt(e,t),e.prototype.setNodes=function(){return this},e}(ut),_t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(t){function e(e){var n=t.call(this)||this;return n.init(e),n.addClass("grafik-text-control"),n}return _t(e,t),e}(ut),mt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=(mt((function(t){var e=Q.call(this)||this;return e.init(t),e.addClass("grafik-gradient-control"),e}),Q=ut),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),bt=function(t){function e(e){var n=t.call(this)||this;return n._isDragging=!1,n._startAngle=0,n._startVector=0,n.init(e),n}return wt(e,t),e.prototype.onPointerStart=function(t){var e=this.getShape(),n=e.getWorldMatrix(!0).toOptions(),r=n.left,o=n.top;this._isDragging=!0,this._startAngle=e.get("angle"),this._startMatrix=(new tt).translate(r,o).invert(),this._startVector=(new S).angleTo(e.getLocalPointer(t,this._startMatrix))},e.prototype.onPointerMove=function(t){if(this._isDragging){var e=this.getShape(),n=e.getLocalPointer(t,this._startMatrix),r=(new S).angleTo(n)-this._startVector,o=p(this._startAngle+r);o<0&&(o+=360),o%=360,e.set("angle",o)}},e.prototype.onPointerEnd=function(t){this._isDragging=!1},e}(ht),xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(t){function e(e){var n=t.call(this)||this;return n._isDragging=!1,n._startVector=new S,n._startPosition=new S,n._startOrigin=new S,n.init(e),n}return xt(e,t),e.prototype.onPointerStart=function(t){var e=this.getShape(),n=e.get("canvas"),r=e.getWorldMatrix().toOptions(),o=r.left,i=r.top;this._isDragging=!0,this._startVector.copy(n.getPointer(t)),this._startPosition.set(o,i),this._startOrigin.copy(e.get("origin"))},e.prototype.onPointerMove=function(t){if(this._isDragging){var e=this.getShape(),n=e.get("canvas"),r=e.parent.isCanvas?n.get("viewportMatrix").clone():e.parent.getWorldMatrix(),o=n.getPointer(t).subtract(this._startVector.clone().subtract(this._startPosition)).transform(r.clone().invert()),i=e.getWorldMatrix().invert().translate(0,0),s=n.getPointer(t).subtract(this._startVector).divide(e.bBox.getSize()).transform(i).add(this._startOrigin);e.set({left:p(o.x),top:p(o.y),originX:s.x,originY:s.y})}},e.prototype.onPointerEnd=function(t){this._isDragging=!1},e}(ht),Pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(t){function e(e){var n=t.call(this)||this;return n.axis="",n._isDragging=!1,n._startScale=new S,n._startVector=new S,n._startMatrix=new tt,n.init(e),n}return Pt(e,t),e.prototype.onPointerStart=function(t){var e=this.getShape(),n=e.getWorldMatrix(!0),r=n.toOptions(),o=(r.left,r.top,e.get(["scaleX","scaleY"])),i=o.scaleX,s=o.scaleY;this._startScale.set(i,s),this._startVector.copy(e.getLocalPointer(t)),this._startMatrix.copy(n.invert()),this._isDragging=!0},e.prototype.onPointerMove=function(t){if(this._isDragging){var e=this.getShape(),n=e.getLocalPointer(t,this._startMatrix).divide(this._startVector).multiply(this._startScale).abs(),r=this._startScale.x/this._startScale.y,o={};"x"===this.axis?o.scaleX=p(n.x):"y"===this.axis?o.scaleY=p(n.y):(o.scaleX=p(Math.max(n.x,n.y)),o.scaleY=p(Math.max(n.x,n.y))/r),e.set(o)}},e.prototype.onPointerEnd=function(t){this._isDragging=!1},e}(ht),At=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.name="",e}return At(e,t),e.prototype.createId=function(){this.id||(this.id=f(this.name))},e.prototype.toJSON=function(){return{}},e}(s(o)),jt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t){function e(){var e=t.call(this)||this;return e.name="timeline",e.createId(),e}return jt(e,t),Object.defineProperty(e.prototype,"animations",{get:function(){return this.getChildren()},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var t=this.mapChildren((function(t){return t.duration}));return t.length?Math.max.apply(Math,t):0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){var t=this.reduceChildren((function(t,e){return e.duration>t.duration?e:t}),this.firstChild());return this.childrenLength?t.time:0},enumerable:!1,configurable:!0}),e.prototype.play=function(){return this.eachChild((function(t){return t.play()})),this},e.prototype.pause=function(){return this.eachChild((function(t){return t.pause()})),this},e.prototype.seek=function(t){return this.eachChild((function(e){return e.seek(t)})),this},e}(w(Ct)),Et={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return 1-Math.pow(1-t,2)},quadraticInOut:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},cubicIn:function(t){return t*t*t},cubicOut:function(t){return 1-Math.pow(1-t,3)},cubicInOut:function(t){return t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2},bounceIn:function(t){return 1-Et.bounceOut(1-t)},bounceOut:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},bounceInOut:function(t){return t<.5?(1-Et.bounceOut(1-2*t))/2:(1+Et.bounceOut(2*t-1))/2},backIn:function(t){return 2.70158*Math.pow(t,3)-1.70158*Math.pow(t,2)},backOut:function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}},kt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt=function(t){function e(e,n,r,o,i){void 0===i&&(i="linear");var s=t.call(this)||this;return s.from=0,s.to=0,s.startValue=null,s.endValue=null,s.from=e,s.to=n,s.startValue=r,s.endValue=o,s.easing="string"==typeof i?Et[i]:i,s.name="keyframe",s.createId(),s}return kt(e,t),Object.defineProperty(e.prototype,"duration",{get:function(){return this.to-this.from},enumerable:!1,configurable:!0}),e.prototype.getValueAt=function(t){if(t<this.from||t>this.to)return null;var e=(t-this.from)/(this.to-this.from),n=this.easing(e);return this._interpolateValue(n)},e.prototype._interpolateValue=function(t){return this.startValue+(this.endValue-this.startValue)*t},e.prototype.toJSON=function(){return{to:this.to,value:this.endValue,easing:"linear"}},e}(Ct),Mt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.property="",o.originalValue=0,o.property=e,o.originalValue=n,null==r||r.forEach((function(t){o.addKeyframe(t)})),o.name="track",o.createId(),o}return Mt(e,t),Object.defineProperty(e.prototype,"keyframes",{get:function(){return this.getChildren()},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.reduceChildren((function(t,e){return t+e.duration}),0)},enumerable:!1,configurable:!0}),e.prototype.addKeyframe=function(t){var e=this.lastChild(),n=e?e.to:0,r=e?e.endValue:this.originalValue,o=new Bt(n,t.to,r,t.value,t.easing);return this.add(o),o},e.prototype.getValueAt=function(t){if(!this.childrenLength)return null;for(var e=0;e<this.childrenLength;e++){var n=this.childAt(e);if(n){var r=n.getValueAt(t);if(null!=r)return r}}return null},e.prototype.toJSON=function(){return{property:this.property,originalValue:this.originalValue,keyframes:this.mapChildren((function(t){return t.toJSON()}))}},e}(w(Ct)),Dt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(t){function e(e){var n=t.call(this)||this;return n._isPlaying=!1,n._startTime=0,n._currentTime=0,n.shape=e,n.name="animation",n.createId(),n}return Dt(e,t),Object.defineProperty(e.prototype,"tracks",{get:function(){return this.getChildren()},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var t=this.mapChildren((function(t){return t.duration}));return t.length?Math.max.apply(Math,t):0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this._currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),e.prototype.play=function(){return this._isPlaying||(this._isPlaying=!0,this._startTime=performance.now()-this._currentTime,requestAnimationFrame(this._render.bind(this)),this.trigger("played",this.shape),this.shape.trigger("animation:played",this)),this},e.prototype.pause=function(){return this._isPlaying=!1,this.trigger("paused",this.shape),this.shape.trigger("animation:paused",this),this},e.prototype.seek=function(t){return this._currentTime=t,this._update(),this},e.prototype._render=function(t){this._isPlaying&&(this._currentTime=t-this._startTime,this._update(),this._currentTime<=this.duration?requestAnimationFrame(this._render.bind(this)):(this._isPlaying=!1,this._startTime=0,this._currentTime=0,this.trigger("completed",this.shape),this.shape.trigger("animation:completed",this)))},e.prototype._update=function(){var t=this;this.eachChild((function(e){var n=e.getValueAt(t._currentTime);null!==n&&t.shape.set(e.property,n,!0)})),this.trigger("updated",this.shape),this.shape.trigger("animation:updated",this)},e.prototype.setTracks=function(t){var e=this,n=t.map((function(t){return e.addTrack(t.property,t.keyframes)}));return this.setChildren(n),this},e.prototype.addTrack=function(t,e){var n=new Tt(t,this.shape.get(t),e);return this.add(n),n},e.prototype.toJSON=function(){return{tracks:this.mapChildren((function(t){return t.toJSON()}))}},e}(w(Ct)),Nt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.isCanvas=!0,n.multiselection=!0,n.zoomable=!0,n.mode="select",n.tagName="svg",n.xmlns="http://www.w3.org/2000/svg",n.preserveAspectRatio="xMidYMid slice",n.className="grafik-canvas",n.width=0,n.height=0,n.viewportMatrix=new tt,n.hasDrawingArea=!1,n.showGrid=!1,n.autoSize=!1,n.gridColorDark="#EEEEEE",n.gridColorLight="#FFFFFF",n.gridSize=10,n.drawingWidth=0,n.drawingHeight=0,n._defs=[],n._animation=new Ft,n._selectedShapes=[],n._selector=new st,n._selection=!1,n._zoom=1,n._pan=new S,n._isDragging=!1,n._startVector=new S,n.set(e,!0),n.trigger("init",n),n}return Nt(e,t),Object.defineProperty(e.prototype,"zoom",{get:function(){return this._zoom},set:function(t){this._zoom=t,this.zoomTo(this._zoom,this._pan)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panX",{get:function(){return this._pan.x},set:function(t){this._pan.x=t,this.zoomTo(this._zoom,this._pan)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panY",{get:function(){return this._pan.y},set:function(t){this._pan.y=t,this.zoomTo(this._zoom,this._pan)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pan",{get:function(){return this._pan},enumerable:!1,configurable:!0}),e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["xmlns","width","height","viewBox","preserveAspectRatio"])},e.prototype.getDrawingAreaPosition=function(){return this.hasDrawingArea?new S(this.width/2-this.drawingWidth/2,this.height/2-this.drawingHeight/2):new S},e.prototype.getDrawingAreaSize=function(){return this.hasDrawingArea?new S(this.drawingWidth,this.drawingHeight):new S(this.width,this.height)},e.prototype.getShapesWrapperAttributes=function(){if(!this.hasDrawingArea)return{};var t=this.getDrawingAreaPosition(),e=t.x,n=t.y;return{transform:"translate(".concat(e,", ").concat(n,")")}},e.prototype.getDrawingAreaAttributes=function(){if(!this.hasDrawingArea)return{};var t=this.getDrawingAreaPosition();return{x:t.x,y:t.y,width:this.drawingWidth,height:this.drawingHeight}},e.prototype.getGridPatternAttributes=function(){if(!this.showGrid)return{};var t=this.getDrawingAreaPosition(),e=t.x,n=t.y;return{id:"grafik-grid",width:2*this.gridSize,height:2*this.gridSize,x:e,y:n,patternUnits:"userSpaceOnUse"}},e.prototype.getGridPatternPaths=function(t){var e,n;if(void 0===t&&(t=!1),!this.showGrid)return[];var r=this.gridSize,o=2*r;return[(e={d:"M 0 0 L ".concat(o," 0 ").concat(o," ").concat(o," 0 ").concat(o," Z"),fill:this.gridColorDark,stroke:"none"},e[t?"stroke-width":"strokeWidth"]=0,e),(n={d:"M ".concat(r," 0 L ").concat(o," 0 ").concat(o," ").concat(r," 0 ").concat(r," 0 ").concat(o," ").concat(r," ").concat(o," Z"),fill:this.gridColorLight,stroke:"none"},n[t?"stroke-width":"strokeWidth"]=0,n)]},e.prototype.selectShapes=function(t,e){var n=this;void 0===e&&(e=!1),t=Array.isArray(t)?t:[t];var r=this._selectedShapes.length;return t.forEach((function(t){!n._selectedShapes.includes(t)&&t.selectable&&n._selectedShapes.push(t)})),e&&r===this._selectedShapes.length||(this.trigger("shapes:selected",t),this.trigger("shapes:selection:updated",t)),this},e.prototype.releaseShapes=function(t,e){void 0===e&&(e=!1),t=Array.isArray(t)?t:[t];var n=this._selectedShapes.length;return(null==t?void 0:t[0])?this._selectedShapes=this._selectedShapes.filter((function(e){return!t.includes(e)})):this._selectedShapes=[],e&&n===this._selectedShapes.length||(this.trigger("shapes:released",t),this.trigger("shapes:selection:updated",t)),this},e.prototype.getSelectedShapes=function(){return this._selectedShapes},e.prototype.eachSelectedShape=function(t){return this._selectedShapes.forEach(t),this},e.prototype.mapSelectedShapes=function(t){return this._selectedShapes.map(t)},e.prototype.addDefs=function(t,e){var n=this;return void 0===e&&(e=!1),(t=Array.isArray(t)?t:[t]).forEach((function(t){n._defs.includes(t)||n._defs.push(t)})),e||this.trigger("defs:added",t),this},e.prototype.removeDefs=function(t,e){return void 0===e&&(e=!1),this},e.prototype.getDefs=function(){return this._defs},e.prototype.hasDefs=function(){return this.hasDrawingArea||this.showGrid||!!this._defs.length},e.prototype.eachDef=function(t){return this._defs.forEach(t),this},e.prototype.mapDefs=function(t){return this._defs.map(t)},e.prototype.getSelector=function(){return this._selector},e.prototype.getAnimation=function(){return this._animation},e.prototype.setResponsiveSize=function(t){if(this.autoSize&&t){t.style.display="none";var e=t.parentElement||{},n=e.clientWidth,r=void 0===n?0:n,o=e.clientHeight,i=void 0===o?0:o;t.style.display="",this.set({width:r,height:i}).zoomTo()}},e.prototype.zoomTo=function(t,e){void 0===t&&(t=1),void 0===e&&(e=new S);var n=this.getSize(),r=n.clone().multiplyScalar(t),o=(new S).subtractPoints(r,n).divideScalar(2).multiplyScalar(-1).add(e);this.viewportMatrix.fromArray([t,0,0,t,o.x,o.y]);var i=this.viewportMatrix,s=i.a,a=i.d,c=i.tx,u=i.ty,p=this.width,l=this.height;return this.set("viewBox",[-c/s,-u/a,p/s,l/a]),this._zoom=t,this._pan.copy(e),this},e.prototype.getSize=function(){return new S(this.width,this.height)},e.prototype.getPointer=function(t){var e="ontouchstart"in window?t.touches[0]:t,n=e.clientX,r=e.clientY,o=e.currentTarget.getBoundingClientRect(),i=o.left,s=o.top;return new S(n-i,r-s)},e.prototype._onPointerStartInSelectMode=function(t){var e=t.target.dataset,n=e.shape,r=e.name,o="controlNode"in e,i=this.getPointer(t),s=this.findLastChildByPointer(i);o?(this._currentNode=r,this.eachSelectedShape((function(e){var n;null===(n=e.getControl().childByName(r))||void 0===n||n.onPointerStart(t)}))):(n||(s?this.releaseShapes().selectShapes(s):(this.releaseShapes(),this.multiselection&&(this._selector.bBox.reset().min.copy(i),this._selector.bBox.max.copy(i),this.trigger("selector:updated"),this._selection=!0))),this.eachSelectedShape((function(e){e.getControl().onPointerStart(t)})))},e.prototype._onPointerMoveInSelectMode=function(t){var e=this;this._selection?(this._selector.bBox.max.copy(this.getPointer(t)),this.trigger("selector:updated")):this.eachSelectedShape((function(n){var r;n.getControl().onPointerMove(t),null===(r=n.getControl().childByName(e._currentNode))||void 0===r||r.onPointerMove(t)}))},e.prototype._onPointerEndInSelectMode=function(t){var e=this;if(this._selection){var n=this.mapChildren((function(t){var n=e._selector.bBox.toPolygon(),r=t.toPolygon();return!e._selector.bBox.isEmpty()&&n.intersects(r)&&t})).filter((function(t){return!!t}));this.selectShapes(n),this._selector.bBox.reset(),this.trigger("selector:updated"),this._selection=!1}else this.eachSelectedShape((function(n){var r;n.getControl().onPointerEnd(t),null===(r=n.getControl().childByName(e._currentNode))||void 0===r||r.onPointerEnd(t)})),this._currentNode=""},e.prototype._onPointerStartInPanMode=function(t){this._isDragging=!0,this._startVector.subtractPoints(this.getPointer(t),this._pan)},e.prototype._onPointerMoveInPanMode=function(t){if(this._isDragging){var e=this.getPointer(t).subtract(this._startVector);this.zoomTo(this._zoom,e)}},e.prototype._onPointerEndInPanMode=function(t){this._isDragging=!1},e.prototype._onPointerStartInDrawMode=function(t){},e.prototype._onPointerMoveInDrawMode=function(t){},e.prototype._onPointerEndInDrawMode=function(t){},e.prototype.onPointerStart=function(t){switch(this.mode){case"select":this._onPointerStartInSelectMode(t);break;case"pan":this._onPointerStartInPanMode(t);break;case"draw":this._onPointerStartInDrawMode(t)}},e.prototype.onPointerMove=function(t){switch(this.mode){case"select":this._onPointerMoveInSelectMode(t);break;case"pan":this._onPointerMoveInPanMode(t);break;case"draw":this._onPointerMoveInDrawMode(t)}},e.prototype.onPointerEnd=function(t){switch(this.mode){case"select":this._onPointerEndInSelectMode(t);break;case"pan":this._onPointerEndInPanMode(t);break;case"draw":this._onPointerEndInDrawMode(t)}},e.prototype.onWheel=function(t){this.zoomable&&(t.preventDefault(),this.getPointer(t),this.getSize(),this.zoomTo(p(this.zoom*Math.pow(.999,t.deltaY)),this._pan))},e}(x(v)),It=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=function(){return Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vt.apply(this,arguments)},Rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShape=!0,e.selectable=!0,e.matrix=new tt,e.bBox=new O,e.origin=new S(.5,.5),e._controls={},e.transformProps=["left","top","angle","scaleX","scaleY","skewX","skewY"],e.left=0,e.top=0,e.angle=0,e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e._fill="black",e._stroke="black",e._defs={},e.strokeWidth=0,e.opacity=1,e}return It(e,t),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var e,n;this._defs.fill&&(null===(e=this.canvas)||void 0===e||e.removeDefs(this._defs.fill)),P.isColor(t)?(this._fill=t,this._defs.fill=null):(t.shape=this,null===(n=this.canvas)||void 0===n||n.addDefs(t),this._fill="url(#".concat(t.id,")"),this._defs.fill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e,n;this._defs.stroke&&(null===(e=this.canvas)||void 0===e||e.removeDefs(this._defs.stroke)),P.isColor(t)?(this._stroke=t,this._defs.stroke=null):(t.shape=this,null===(n=this.canvas)||void 0===n||n.addDefs(t),this._stroke="url(#".concat(t.id,")"),this._defs.stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originX",{get:function(){return this.origin.x},set:function(t){this.origin.x=t,this.bBox.fromSizeAndOrigin(this.bBox.getSize(),this.origin)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originY",{get:function(){return this.origin.y},set:function(t){this.origin.y=t,this.bBox.fromSizeAndOrigin(this.bBox.getSize(),this.origin)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animation",{get:function(){return this._animation.toJSON()},set:function(t){var e=t.tracks;this._animation.setTracks(e)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._animation=new Lt(this),this.set(t,!0),this.createId(this.tagName),this.addControl("transform",new yt({shape:this})).setControl("transform"),this.updateMatrix(),this.updateBBox(),this.trigger("init",this)},e.prototype.set=function(e,n,r){var o,i;if(void 0===r&&(r=!1),t.prototype.set.call(this,e,n,!0),!e)return this;var s=this.transformProps;if("string"==typeof e)s.includes(e)&&this.updateMatrix(),this.updateOthersWithKeys([e]),r||(this.trigger("set",((o={})[e]=n,o),this),this.canvas&&this.canvas.trigger("shapes:set",((i={})[e]=n,i),this));else{var a=void 0;for(a=0;a<s.length;a++)if(s[a]in e){this.updateMatrix();break}this.updateOthersWithKeys(Object.keys(e)),n||(this.trigger("set",e,this),this.canvas&&this.canvas.trigger("shapes:set",e,this))}return this},e.prototype.getAttrMap=function(){return["fill","stroke","strokeWidth"]},e.prototype.updateOthersWithKeys=function(t){return this},e.prototype.getAttributes=function(e){var n=t.prototype.getAttributes.call(this,e);if(this.isCollection)return n;var r=this.bBox.getSize().multiply(this.origin).multiplyScalar(-1).toString();return Vt(Vt({},n),{transform:"translate(".concat(r,")")})},e.prototype.getWrapperAttributes=function(){var t={id:this.id,transform:this.matrix.toCSS()};return this.className&&(t.className=this.className),t},e.prototype.addControl=function(t,e){return t&&(this._controls[t]=e),this},e.prototype.getControl=function(t){return this._controls[t||this._activeControl]},e.prototype.setControl=function(t){return this._activeControl=t,this.trigger("control:switched",this.getControl(),this),this.canvas&&this.canvas.trigger("shapes:control:switched",this.getControl(),this),this},e.prototype.updateMatrix=function(){return this.matrix.fromOptions(this.get(this.transformProps)),this},e.prototype.updateBBox=function(){return console.warn("updateBBox() must be implemented by subclass."),this},e.prototype.getWorldMatrix=function(t){var e,n=this.parent,r=n.viewportMatrix,o=n.isCanvas,i=n.hasDrawingArea;if(o)if(t&&i){var s=this.parent.getDrawingAreaPosition(),a=s.x,c=s.y,u=(new tt).fromArray([1,0,0,1,a,c]);e=r.clone().multiply(u)}else e=r;else e=this.parent.getWorldMatrix();return(new tt).copy(e).multiply(this.matrix)},e.prototype.getLocalPointer=function(t,e){return this.canvas.getPointer(t).transform(e||this.getWorldMatrix(!0).invert())},e.prototype.getAnimation=function(){return this._animation},e.prototype.animate=function(t,e){return this._animation.addTrack(t,e)},e.prototype.toPolygon=function(){return this.bBox.toPolygon(this.getWorldMatrix(!0))},e.prototype.toJSON=function(){var e,n,r=this,o=t.prototype.toJSON.call(this),i=this.transformProps.reduce((function(t,e){return void 0!==r[e]&&(t[e]=r[e]),t}),{}),s={};for(e in this._defs)(n=this._defs[e])&&(s[e]=n.toJSON());return delete o.transform,Vt(Vt(Vt(Vt({},o),i),s),{animation:this.animation})},e}(v),Wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t){function e(e){var n=t.call(this)||this;return n.tagName="rect",n.width=0,n.height=0,n.init(e),n}return Wt(e,t),e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["width","height"])},e.prototype.updateOthersWithKeys=function(t){return(t.includes("width")||t.includes("height"))&&this.updateBBox(),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin(new S(this.width,this.height),this.origin),this},e}(Rt),qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ht=function(t){function e(e){var n=t.call(this)||this;return n.tagName="circle",n.r=0,n.cx=0,n.cy=0,n.init(e),n}return qt(e,t),e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["r","cx","cy"])},e.prototype.updateOthersWithKeys=function(t){return t.includes("r")&&(this.updateBBox(),this.cx=this.r,this.cy=this.r),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin((new S).addScalar(2*this.r),this.origin),this},e}(Rt),Yt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(t){function e(e){var n=t.call(this)||this;return n.tagName="ellipse",n.rx=0,n.ry=0,n.cx=0,n.cy=0,n.init(e),n}return Yt(e,t),e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["rx","ry","cx","cy"])},e.prototype.updateOthersWithKeys=function(t){return(t.includes("rx")||t.includes("ry"))&&(this.updateBBox(),this.cx=this.rx,this.cy=this.ry),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin(new S(this.rx,this.ry).multiplyScalar(2),this.origin),this},e}(Rt),Gt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(){return Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Kt.apply(this,arguments)},Ut=function(t){function e(e){var n=t.call(this)||this;return n.tagName="path",n.path=new Z,n.init(e),n.addControl("path",new gt({shape:n,path:n.path})),n}return Gt(e,t),e.prototype.getAttributes=function(e){var n=t.prototype.getAttributes.call(this,e);return Kt(Kt({},n),{d:this.path.toString()})},e.prototype.updateOthersWithKeys=function(t){return t.includes("d")&&(this.path.fromString(this.d).adjust(),this.updateBBox()),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin(this.path.updateBBox().getBBox().getSize(),this.origin),this},e}(Rt),Jt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(){return Qt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qt.apply(this,arguments)},Zt=function(t){function e(e){var n=t.call(this)||this;return n.tagName="polyline",n.path=new Z,n.init(e),n}return Jt(e,t),e.prototype.getAttributes=function(e){var n=t.prototype.getAttributes.call(this,e);return Qt(Qt({},n),{points:this.path.toNumbers()})},e.prototype.updateOthersWithKeys=function(t){return t.includes("points")&&(this.path.fromNumbers(this.points).adjust(),this.updateBBox()),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin(this.path.updateBBox().getBBox().getSize(),this.origin),this},e}(Rt),te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName="polygon",e}return te(e,t),e}(Zt),ne=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=document.createElement("canvas").getContext("2d"),oe=function(t){function e(e){var n=t.call(this)||this;return n.tagName="text",n.text="",n.fontFamily="Arial",n.fontSize=40,n.fontWeight="normal",n.x=0,n.y=40,n.init(e),n.addControl("text",new vt({shape:n})),n}return ne(e,t),e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["x","y","fontFamily","fontSize"])},e.prototype.updateOthersWithKeys=function(t){return(t.includes("text")||t.includes("fontFamily")||t.includes("fontSize"))&&this.updateBBox(),t.includes("fontSize")&&(this.y=this.fontSize),this},e.prototype.updateBBox=function(){return this.bBox.fromSizeAndOrigin(this.getTextSize(),this.origin),this},e.prototype.getTextSize=function(){re.font="".concat(this.fontSize,"px ").concat(this.fontFamily);var t=re.measureText(this.text),e=t.width,n=t.fontBoundingBoxAscent,r=t.fontBoundingBoxDescent;return new S(e,n+r)},e}(Rt),ie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName="textPath",e}return ie(e,t),e}(oe),ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ae(e,t),e.prototype.fromURL=function(t){return this},e.prototype.fromString=function(t){return this},e.prototype.onLoad=function(t){return this.on("loaded",t)},e.prototype.onError=function(t){return this},e}(o),ue=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=(function(t){ue((function(){return null!==t&&t.apply(this,arguments)||this}),t)}(ce),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),le=(function(t){pe((function(){return null!==t&&t.apply(this,arguments)||this}),t)}(ce),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.fromURL=function(t){var e=this,n=new Image;return n.src=t,n.onload=function(){e.trigger("loaded",n)},this},e}(ce),fe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(t){function e(e){var n=t.call(this)||this;return n.tagName="image",n.href="",n.loader=new he,n.init(e),n.setImage(n.href),n}return fe(e,t),e.prototype.setImage=function(t){var e=this;return this.loader.fromURL(t).onLoad((function(t){var n=t.width,r=t.height;return e.set({width:n,height:r})})),this},e.prototype.getAttrMap=function(){return t.prototype.getAttrMap.call(this).concat(["href"])},e}(Xt),de=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(t){function e(e){var n=t.call(this)||this;return n.tagName="g",n.init(e),n.updateBBox=n.updateBBox.bind(n),n}return de(e,t),e.prototype.updateBBox=function(){var t=this.mapChildren((function(t){return t.bBox.getLineEdges(t.matrix)})).flat();return this.bBox.fromPoints(t),this.origin.copy(this.bBox.getOrigin()),this},e.prototype.add=function(e,n){var r=this;return t.prototype.add.call(this,e,n),(e=Array.isArray(e)?e:[e]).forEach((function(t){return t.on("set",r.updateBBox)})),this.updateBBox(),this},e.prototype.remove=function(e,n){var r=this;return t.prototype.remove.call(this,e,n),(e=Array.isArray(e)?e:[e]).forEach((function(t){return t.off("set",r.updateBBox)})),this.updateBBox(),this},e}(x(Rt)),_e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDefinition=!0,e}return _e(e,t),e.prototype.init=function(t){this.set(t,!0),this.createId(this.tagName),this.trigger("init",this)},e.prototype.getAttrMap=function(){return["id"]},e}(w(v)),me=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),we=(function(t){me((function(e){var n=t.call(this)||this;return n.tagName="clipPath",n.init(e),n}),t)}(ve),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return we(e,t),Object.defineProperty(e.prototype,"colorStops",{get:function(){return this.getChildren()},set:function(t){var e=t.map((function(t){return new Se(t)}));this.setChildren(e,!0)},enumerable:!1,configurable:!0}),e}(ve),xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=(function(t){xe((function(e){var n=t.call(this)||this;return n.tagName="linearGradient",n.init(e),n}),t)}(be),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Pe=(function(t){Oe((function(e){var n=t.call(this)||this;return n.tagName="radialGradient",n.init(e),n}),t)}(be),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Se=function(t){function e(e){var n=t.call(this)||this;return n.tagName="stop",n.offset=0,n.stopColor="",n.stopOpacity=1,n.set(e),n.createId("stop"),n}return Pe(e,t),e.prototype.getAttrMap=function(){return["offset","stopColor","stopOpacity"]},e}(v),Ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=(function(t){Ae((function(e){var n=t.call(this)||this;return n.tagName="pattern",n.init(e),n}),t)}(ve),function(t){return{install:function(e,n){void 0===n&&(n=t);var r=new zt(n);e.provide("canvas",r)}}});function je(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}const Fe={},Ee=[],ke=()=>{},Be=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Me=Object.assign,Te=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},De=Object.prototype.hasOwnProperty,Le=(t,e)=>De.call(t,e),Ne=Array.isArray,ze=t=>"[object Map]"===Ye(t),Ie=t=>"[object Set]"===Ye(t),Ve=t=>"function"==typeof t,Re=t=>"string"==typeof t,We=t=>"symbol"==typeof t,Xe=t=>null!==t&&"object"==typeof t,qe=t=>(Xe(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),He=Object.prototype.toString,Ye=t=>He.call(t),$e=t=>Ye(t).slice(8,-1),Ge=t=>"[object Object]"===Ye(t),Ke=t=>Re(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,Ue=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Je=/-(\w)/g,Qe=Ue((t=>t.replace(Je,((t,e)=>e?e.toUpperCase():"")))),Ze=/\B([A-Z])/g,tn=(Ue((t=>t.replace(Ze,"-$1").toLowerCase())),Ue((t=>t.charAt(0).toUpperCase()+t.slice(1)))),en=(Ue((t=>t?`on${tn(t)}`:"")),(t,e)=>!Object.is(t,e)),nn=t=>{const e=Re(t)?Number(t):NaN;return isNaN(e)?t:e};let rn;function on(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=Re(r)?un(r):on(r);if(o)for(const t in o)e[t]=o[t]}return e}if(Re(t)||Xe(t))return t}const sn=/;(?![^(]*\))/g,an=/:([^]+)/,cn=/\/\*[^]*?\*\//g;function un(t){const e={};return t.replace(cn,"").split(sn).forEach((t=>{if(t){const n=t.split(an);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function pn(t){let e="";if(Re(t))e=t;else if(Ne(t))for(let n=0;n<t.length;n++){const r=pn(t[n]);r&&(e+=r+" ")}else if(Xe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ln(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Re(e)&&(t.class=pn(e)),n&&(t.style=on(n)),t}let hn,fn;class yn{constructor(t,e,n,r){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(t,e=hn){e&&e.active&&e.effects.push(t)}(this,r)}get dirty(){if(2===this._dirtyLevel)return!1;if(3===this._dirtyLevel||4===this._dirtyLevel){this._dirtyLevel=1,bn();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed){if(2===e.computed.effect._dirtyLevel)return!0;if(e.computed.value,this._dirtyLevel>=5)break}}1===this._dirtyLevel&&(this._dirtyLevel=0),xn()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=vn,e=fn;try{return vn=!0,fn=this,this._runnings++,dn(this),this.fn()}finally{gn(this),this._runnings--,fn=e,vn=t}}stop(){this.active&&(dn(this),gn(this),this.onStop&&this.onStop(),this.active=!1)}}function dn(t){t._trackId++,t._depsLength=0}function gn(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)_n(t.deps[e],t);t.deps.length=t._depsLength}}function _n(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let vn=!0,mn=0;const wn=[];function bn(){wn.push(vn),vn=!1}function xn(){const t=wn.pop();vn=void 0===t||t}function On(){mn++}function Pn(){for(mn--;!mn&&An.length;)An.shift()()}function Sn(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&_n(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const An=[];function Cn(t,e,n){On();for(const n of t.keys()){if(!t.computed&&n.computed&&t.get(n)===n._trackId&&n._runnings>0){n._dirtyLevel=2;continue}let r;n._dirtyLevel<e&&(null!=r?r:r=t.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n.computed&&2===n._dirtyLevel&&(n._shouldSchedule=!0),n._dirtyLevel=e),n._shouldSchedule&&(null!=r?r:r=t.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||3===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&An.push(n.scheduler)))}Pn()}const jn=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Fn=new WeakMap,En=Symbol(""),kn=Symbol("");function Bn(t,e,n){if(vn&&fn){let e=Fn.get(t);e||Fn.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=jn((()=>e.delete(n)))),Sn(fn,r)}}function Mn(t,e,n,r,o,i){const s=Fn.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===n&&Ne(t)){const t=Number(r);s.forEach(((e,n)=>{("length"===n||!We(n)&&n>=t)&&a.push(e)}))}else switch(void 0!==n&&a.push(s.get(n)),e){case"add":Ne(t)?Ke(n)&&a.push(s.get("length")):(a.push(s.get(En)),ze(t)&&a.push(s.get(kn)));break;case"delete":Ne(t)||(a.push(s.get(En)),ze(t)&&a.push(s.get(kn)));break;case"set":ze(t)&&a.push(s.get(En))}On();for(const t of a)t&&Cn(t,5);Pn()}const Tn=je("__proto__,__v_isRef,__isVue"),Dn=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(We)),Ln=Nn();function Nn(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=br(this);for(let t=0,e=this.length;t<e;t++)Bn(n,0,t+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(br)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){bn(),On();const n=br(this)[e].apply(this,t);return Pn(),xn(),n}})),t}function zn(t){We(t)||(t=String(t));const e=br(this);return Bn(e,0,t),e.hasOwnProperty(t)}class In{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){const r=this._isReadonly,o=this._isShallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return o;if("__v_raw"===e)return n===(r?o?fr:hr:o?lr:pr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=Ne(t);if(!r){if(i&&Le(Ln,e))return Reflect.get(Ln,e,n);if("hasOwnProperty"===e)return zn}const s=Reflect.get(t,e,n);return(We(e)?Dn.has(e):Tn(e))?s:(r||Bn(t,0,e),o?s:Cr(s)?i&&Ke(e)?s:s.value:Xe(s)?r?dr(s):yr(s):s)}}class Vn extends In{constructor(t=!1){super(!1,t)}set(t,e,n,r){let o=t[e];if(!this._isShallow){const e=vr(o);if(mr(n)||vr(n)||(o=br(o),n=br(n)),!Ne(t)&&Cr(o)&&!Cr(n))return!e&&(o.value=n,!0)}const i=Ne(t)&&Ke(e)?Number(e)<t.length:Le(t,e),s=Reflect.set(t,e,n,r);return t===br(r)&&(i?en(n,o)&&Mn(t,"set",e,n):Mn(t,"add",e,n)),s}deleteProperty(t,e){const n=Le(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&Mn(t,"delete",e,void 0),r}has(t,e){const n=Reflect.has(t,e);return We(e)&&Dn.has(e)||Bn(t,0,e),n}ownKeys(t){return Bn(t,0,Ne(t)?"length":En),Reflect.ownKeys(t)}}class Rn extends In{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Wn=new Vn,Xn=new Rn,qn=t=>t,Hn=t=>Reflect.getPrototypeOf(t);function Yn(t,e,n=!1,r=!1){const o=br(t=t.__v_raw),i=br(e);n||(en(e,i)&&Bn(o,0,e),Bn(o,0,i));const{has:s}=Hn(o),a=r?qn:n?Or:xr;return s.call(o,e)?a(t.get(e)):s.call(o,i)?a(t.get(i)):void(t!==o&&t.get(e))}function $n(t,e=!1){const n=this.__v_raw,r=br(n),o=br(t);return e||(en(t,o)&&Bn(r,0,t),Bn(r,0,o)),t===o?n.has(t):n.has(t)||n.has(o)}function Gn(t,e=!1){return t=t.__v_raw,!e&&Bn(br(t),0,En),Reflect.get(t,"size",t)}function Kn(t){t=br(t);const e=br(this);return Hn(e).has.call(e,t)||(e.add(t),Mn(e,"add",t,t)),this}function Un(t,e){e=br(e);const n=br(this),{has:r,get:o}=Hn(n);let i=r.call(n,t);i||(t=br(t),i=r.call(n,t));const s=o.call(n,t);return n.set(t,e),i?en(e,s)&&Mn(n,"set",t,e):Mn(n,"add",t,e),this}function Jn(t){const e=br(this),{has:n,get:r}=Hn(e);let o=n.call(e,t);o||(t=br(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&Mn(e,"delete",t,void 0),i}function Qn(){const t=br(this),e=0!==t.size,n=t.clear();return e&&Mn(t,"clear",void 0,void 0),n}function Zn(t,e){return function(n,r){const o=this,i=o.__v_raw,s=br(i),a=e?qn:t?Or:xr;return!t&&Bn(s,0,En),i.forEach(((t,e)=>n.call(r,a(t),a(e),o)))}}function tr(t,e,n){return function(...r){const o=this.__v_raw,i=br(o),s=ze(i),a="entries"===t||t===Symbol.iterator&&s,c="keys"===t&&s,u=o[t](...r),p=n?qn:e?Or:xr;return!e&&Bn(i,0,c?kn:En),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:a?[p(t[0]),p(t[1])]:p(t),done:e}},[Symbol.iterator](){return this}}}}function er(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function nr(){const t={get(t){return Yn(this,t)},get size(){return Gn(this)},has:$n,add:Kn,set:Un,delete:Jn,clear:Qn,forEach:Zn(!1,!1)},e={get(t){return Yn(this,t,!1,!0)},get size(){return Gn(this)},has:$n,add:Kn,set:Un,delete:Jn,clear:Qn,forEach:Zn(!1,!0)},n={get(t){return Yn(this,t,!0)},get size(){return Gn(this,!0)},has(t){return $n.call(this,t,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Zn(!0,!1)},r={get(t){return Yn(this,t,!0,!0)},get size(){return Gn(this,!0)},has(t){return $n.call(this,t,!0)},add:er("add"),set:er("set"),delete:er("delete"),clear:er("clear"),forEach:Zn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=tr(o,!1,!1),n[o]=tr(o,!0,!1),e[o]=tr(o,!1,!0),r[o]=tr(o,!0,!0)})),[t,n,e,r]}const[rr,or,ir,sr]=nr();function ar(t,e){const n=e?t?sr:ir:t?or:rr;return(e,r,o)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(Le(n,r)&&r in e?n:e,r,o)}const cr={get:ar(!1,!1)},ur={get:ar(!0,!1)},pr=new WeakMap,lr=new WeakMap,hr=new WeakMap,fr=new WeakMap;function yr(t){return vr(t)?t:gr(t,!1,Wn,cr,pr)}function dr(t){return gr(t,!0,Xn,ur,hr)}function gr(t,e,n,r,o){if(!Xe(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=(a=t).__v_skip||!Object.isExtensible(a)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}($e(a));var a;if(0===s)return t;const c=new Proxy(t,2===s?r:n);return o.set(t,c),c}function _r(t){return vr(t)?_r(t.__v_raw):!(!t||!t.__v_isReactive)}function vr(t){return!(!t||!t.__v_isReadonly)}function mr(t){return!(!t||!t.__v_isShallow)}function wr(t){return!!t&&!!t.__v_raw}function br(t){const e=t&&t.__v_raw;return e?br(e):t}const xr=t=>Xe(t)?yr(t):t,Or=t=>Xe(t)?dr(t):t;class Pr{constructor(t,e,n,r){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new yn((()=>t(this._value)),(()=>Ar(this,3===this.effect._dirtyLevel?3:4))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=br(this);return t._cacheable&&!t.effect.dirty||!en(t._value,t._value=t.effect.run())||Ar(t,5),Sr(t),t.effect._dirtyLevel>=2&&Ar(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Sr(t){var e;vn&&fn&&(t=br(t),Sn(fn,null!=(e=t.dep)?e:t.dep=jn((()=>t.dep=void 0),t instanceof Pr?t:void 0)))}function Ar(t,e=5,n,r){const o=(t=br(t)).dep;o&&Cn(o,e)}function Cr(t){return!(!t||!0!==t.__v_isRef)}function jr(t){return n=!1,Cr(e=t)?e:new Fr(e,n);var e,n}class Fr{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:br(t),this._value=e?t:xr(t)}get value(){return Sr(this),this._value}set value(t){const e=this.__v_isShallow||mr(t)||vr(t);t=e?t:br(t),en(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=e?t:xr(t),Ar(this,5))}}function Er(t){return Cr(t)?t.value:t}function kr(t){const e=Ne(t)?new Array(t.length):{};for(const n in t)e[n]=Mr(t,n);return e}class Br{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,e){const n=Fn.get(t);return n&&n.get(e)}(br(this._object),this._key)}}function Mr(t,e,n){const r=t[e];return Cr(r)?r:new Br(t,e,n)}function Tr(t,e,n,r){try{return r?t(...r):t()}catch(t){Lr(t,e,n)}}function Dr(t,e,n,r){if(Ve(t)){const o=Tr(t,e,n,r);return o&&qe(o)&&o.catch((t=>{Lr(t,e,n)})),o}if(Ne(t)){const o=[];for(let i=0;i<t.length;i++)o.push(Dr(t[i],e,n,r));return o}}function Lr(t,e,n,r=!0){if(e&&e.vnode,e){let r=e.parent;const o=e.proxy,i=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,o,i))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return bn(),Tr(s,null,10,[t,o,i]),void xn()}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let Nr=!1,zr=!1;const Ir=[];let Vr=0;const Rr=[];let Wr=null,Xr=0;const qr=Promise.resolve();let Hr=null;function Yr(){Nr||zr||(zr=!0,Hr=qr.then(Kr))}const $r=t=>null==t.id?1/0:t.id,Gr=(t,e)=>{const n=$r(t)-$r(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Kr(t){zr=!1,Nr=!0,Ir.sort(Gr);try{for(Vr=0;Vr<Ir.length;Vr++){const t=Ir[Vr];t&&!1!==t.active&&Tr(t,null,14)}}finally{Vr=0,Ir.length=0,function(t){if(Rr.length){const t=[...new Set(Rr)].sort(((t,e)=>$r(t)-$r(e)));if(Rr.length=0,Wr)return void Wr.push(...t);for(Wr=t,Xr=0;Xr<Wr.length;Xr++){const t=Wr[Xr];!1!==t.active&&t()}Wr=null,Xr=0}}(),Nr=!1,Hr=null,(Ir.length||Rr.length)&&Kr(t)}}let Ur,Jr=[],Qr=!1;const Zr=to("component:updated");function to(t){return e=>{!function(t,...e){Ur?Ur.emit(t,...e):Qr||Jr.push({event:t,args:e})}(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}let eo=null,no=null;function ro(t){const e=eo;return eo=t,no=t&&t.type.__scopeId||null,e}function oo(t,e=eo,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Ko(-1);const o=ro(e);let i;try{i=t(...n)}finally{ro(o),r._d&&Ko(1)}return __VUE_PROD_DEVTOOLS__&&Zr(e),i};return r._n=!0,r._c=!0,r._d=!0,r}const io="components",so=Symbol.for("v-ndc");function ao(t){return Re(t)?co(io,t,!1)||t:t||so}function co(t,e,n=!0,r=!1){const o=eo||li;if(o){const n=o.type;if(t===io){const t=function(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}(n,!1);if(t&&(t===e||t===Qe(e)||t===tn(Qe(e))))return n}const i=uo(o[t]||n[t],e)||uo(o.appContext[t],e);return!i&&r?n:i}}function uo(t,e){return t&&(t[e]||t[Qe(e)]||t[tn(Qe(e))])}const po=t=>(e,n=li)=>{gi&&"sp"!==t||function(t,e,n=li,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...r)=>{bn();const o=di(n),i=Dr(e,n,t,r);return o(),xn(),i});r?o.unshift(i):o.push(i)}}(t,((...t)=>e(...t)),n)},lo=(po("bm"),po("m")),ho=(po("bu"),po("u"),po("bum")),fo=po("um");function yo(t,e,n,r){let o;const i=n&&n[r];if(Ne(t)||Re(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n,void 0,i&&i[n])}else if("number"==typeof t){o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,i&&i[n])}else if(Xe(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,i&&i[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];o[r]=e(t[s],s,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function go(t,e){return Ve(t)?(()=>Me({name:t.name},e,{setup:t}))():t}po("sp"),po("rtg"),po("rtc");function _o(t,e,n={},r,o){if(eo.isCE||eo.parent&&eo.parent.type.__asyncLoader&&eo.parent.isCE)return"default"!==e&&(n.name=e),oi("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),$o();const s=i&&vo(i(n)),a=Qo(Wo,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&1===t._?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function vo(t){return t.some((t=>!Zo(t)||t.type!==qo&&!(t.type===Wo&&!vo(t.children))))?t:null}function mo(t,e){if(li){let n=li.provides;const r=li.parent&&li.parent.provides;r===n&&(n=li.provides=Object.create(r)),n[t]=e}}function wo(t,e,n=!1){const r=li||eo;if(r){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:null._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Ve(e)?e.call(r&&r.proxy):e}}const bo={},xo=t=>Object.getPrototypeOf(t)===bo,Oo=function(t,e){var n;e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):(Ne(n=t)?Rr.push(...n):Wr&&Wr.includes(n,n.allowRecurse?Xr+1:Xr)||Rr.push(n),Yr())};const Po=Symbol.for("v-scx"),So=()=>wo(Po),Ao={};function Co(t,e,n){return function(t,e,{immediate:n,deep:r,flush:o,once:i,onTrack:s,onTrigger:a}=Fe){if(e&&i){const t=e;e=(...e)=>{t(...e),b()}}const c=li,u=t=>!0===r?t:jo(t,!1===r?1:void 0);let p,l,h=!1,f=!1;if(Cr(t)?(p=()=>t.value,h=mr(t)):_r(t)?(p=()=>u(t),h=!0):Ne(t)?(f=!0,h=t.some((t=>_r(t)||mr(t))),p=()=>t.map((t=>Cr(t)?t.value:_r(t)?u(t):Ve(t)?Tr(t,c,2):void 0))):p=Ve(t)?e?()=>Tr(t,c,2):()=>(l&&l(),Dr(t,c,3,[d])):ke,e&&r){const t=p;p=()=>jo(t())}let y,d=t=>{l=m.onStop=()=>{Tr(t,c,4),l=m.onStop=void 0}};if(gi){if(d=ke,e?n&&Dr(e,c,3,[p(),f?[]:void 0,d]):p(),"sync"!==o)return ke;{const t=So();y=t.__watcherHandles||(t.__watcherHandles=[])}}let g=f?new Array(t.length).fill(Ao):Ao;const _=()=>{if(m.active&&m.dirty)if(e){const t=m.run();(r||h||(f?t.some(((t,e)=>en(t,g[e]))):en(t,g)))&&(l&&l(),Dr(e,c,3,[t,g===Ao?void 0:f&&g[0]===Ao?[]:g,d]),g=t)}else m.run()};let v;_.allowRecurse=!!e,"sync"===o?v=_:"post"===o?v=()=>Oo(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),v=()=>function(t){Ir.length&&Ir.includes(t,Nr&&t.allowRecurse?Vr+1:Vr)||(null==t.id?Ir.push(t):Ir.splice(function(t){let e=Vr+1,n=Ir.length;for(;e<n;){const r=e+n>>>1,o=Ir[r],i=$r(o);i<t||i===t&&o.pre?e=r+1:n=r}return e}(t.id),0,t),Yr())}(_));const m=new yn(p,ke,v),w=hn,b=()=>{m.stop(),w&&Te(w.effects,m)};return e?n?_():g=m.run():"post"===o?Oo(m.run.bind(m),c&&c.suspense):m.run(),y&&y.push(b),b}(t,e,n)}function jo(t,e=1/0,n){if(e<=0||!Xe(t)||t.__v_skip)return t;if((n=n||new Set).has(t))return t;if(n.add(t),e--,Cr(t))jo(t.value,e,n);else if(Ne(t))for(let r=0;r<t.length;r++)jo(t[r],e,n);else if(Ie(t)||ze(t))t.forEach((t=>{jo(t,e,n)}));else if(Ge(t)){for(const r in t)jo(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&jo(t[r],e,n)}return t}const Fo=t=>t.type.__isKeepAlive;RegExp,RegExp;const Eo=Symbol("_leaveCb"),ko=Symbol("_enterCb");const Bo=[Function,Array],Mo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bo,onEnter:Bo,onAfterEnter:Bo,onEnterCancelled:Bo,onBeforeLeave:Bo,onLeave:Bo,onAfterLeave:Bo,onLeaveCancelled:Bo,onBeforeAppear:Bo,onAppear:Bo,onAfterAppear:Bo,onAppearCancelled:Bo},To=t=>{const e=t.subTree;return e.component?To(e.component):e},Do={name:"BaseTransition",props:Mo,setup(t,{slots:e}){const n=hi(),r=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lo((()=>{t.isMounted=!0})),ho((()=>{t.isUnmounting=!0})),t}();return()=>{const o=e.default&&Ro(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==qo){i=e,t=!0;break}}const s=br(t),{mode:a}=s;if(r.isLeaving)return zo(i);const c=Io(i);if(!c)return zo(i);let u=No(c,s,r,n,(t=>u=t));Vo(c,u);const p=n.subTree,l=p&&Io(p);if(l&&l.type!==qo&&!ti(c,l)&&To(n).type!==qo){const t=No(l,s,r,n);if(Vo(l,t),"out-in"===a&&c.type!==qo)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},zo(i);"in-out"===a&&c.type!==qo&&(t.delayLeave=(t,e,n)=>{Lo(r,l)[String(l.key)]=l,t[Eo]=()=>{e(),t[Eo]=void 0,delete u.delayedLeave},u.delayedLeave=n})}return i}}};function Lo(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function No(t,e,n,r,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:p,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:y,onLeaveCancelled:d,onBeforeAppear:g,onAppear:_,onAfterAppear:v,onAppearCancelled:m}=e,w=String(t.key),b=Lo(n,t),x=(t,e)=>{t&&Dr(t,r,9,e)},O=(t,e)=>{const n=e[1];x(t,e),Ne(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},P={mode:s,persisted:a,beforeEnter(e){let r=c;if(!n.isMounted){if(!i)return;r=g||c}e[Eo]&&e[Eo](!0);const o=b[w];o&&ti(t,o)&&o.el[Eo]&&o.el[Eo](),x(r,[e])},enter(t){let e=u,r=p,o=l;if(!n.isMounted){if(!i)return;e=_||u,r=v||p,o=m||l}let s=!1;const a=t[ko]=e=>{s||(s=!0,x(e?o:r,[t]),P.delayedLeave&&P.delayedLeave(),t[ko]=void 0)};e?O(e,[t,a]):a()},leave(e,r){const o=String(t.key);if(e[ko]&&e[ko](!0),n.isUnmounting)return r();x(h,[e]);let i=!1;const s=e[Eo]=n=>{i||(i=!0,r(),x(n?d:y,[e]),e[Eo]=void 0,b[o]===t&&delete b[o])};b[o]=t,f?O(f,[e,s]):s()},clone(t){const i=No(t,e,n,r,o);return o&&o(i),i}};return P}function zo(t){if(Fo(t))return(t=si(t)).children=null,t}function Io(t){if(!Fo(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(16&e)return n[0];if(32&e&&Ve(n.default))return n.default()}}function Vo(t,e){6&t.shapeFlag&&t.component?Vo(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ro(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:i);s.type===Wo?(128&s.patchFlag&&o++,r=r.concat(Ro(s.children,e,a))):(e||s.type!==qo)&&r.push(null!=a?si(s,{key:a}):s)}if(o>1)for(let t=0;t<r.length;t++)r[t].patchFlag=-2;return r}const Wo=Symbol.for("v-fgt"),Xo=Symbol.for("v-txt"),qo=Symbol.for("v-cmt"),Ho=(Symbol.for("v-stc"),[]);let Yo=null;function $o(t=!1){Ho.push(Yo=t?null:[])}let Go=1;function Ko(t){Go+=t}function Uo(t){return t.dynamicChildren=Go>0?Yo||Ee:null,Ho.pop(),Yo=Ho[Ho.length-1]||null,Go>0&&Yo&&Yo.push(t),t}function Jo(t,e,n,r,o,i){return Uo(ri(t,e,n,r,o,i,!0))}function Qo(t,e,n,r,o){return Uo(oi(t,e,n,r,o,!0))}function Zo(t){return!!t&&!0===t.__v_isVNode}function ti(t,e){return t.type===e.type&&t.key===e.key}const ei=({key:t})=>null!=t?t:null,ni=({ref:t,ref_key:e,ref_for:n})=>("number"==typeof t&&(t=""+t),null!=t?Re(t)||Cr(t)||Ve(t)?{i:eo,r:t,k:e,f:!!n}:t:null);function ri(t,e=null,n=null,r=0,o=null,i=(t===Wo?0:1),s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ei(e),ref:e&&ni(e),scopeId:no,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:eo};return a?(ui(c,n),128&i&&t.normalize(c)):n&&(c.shapeFlag|=Re(n)?8:16),Go>0&&!s&&Yo&&(c.patchFlag>0||6&i)&&32!==c.patchFlag&&Yo.push(c),c}const oi=function(t,e=null,n=null,r=0,o=null,i=!1){if(t&&t!==so||(t=qo),Zo(t)){const r=si(t,e,!0);return n&&ui(r,n),Go>0&&!i&&Yo&&(6&r.shapeFlag?Yo[Yo.indexOf(t)]=r:Yo.push(r)),r.patchFlag=-2,r}if(s=t,Ve(s)&&"__vccOpts"in s&&(t=t.__vccOpts),e){e=ii(e);let{class:t,style:n}=e;t&&!Re(t)&&(e.class=pn(t)),Xe(n)&&(wr(n)&&!Ne(n)&&(n=Me({},n)),e.style=on(n))}var s;return ri(t,e,n,r,o,Re(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:Xe(t)?4:Ve(t)?2:0,i,!0)};function ii(t){return t?wr(t)||xo(t)?Me({},t):t:null}function si(t,e,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:c}=t,u=e?pi(o||{},e):o,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ei(u),ref:e&&e.ref?n&&i?Ne(i)?i.concat(ni(e)):[i,ni(e)]:ni(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wo?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&si(t.ssContent),ssFallback:t.ssFallback&&si(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Vo(p,c.clone(p)),p}function ai(t=" ",e=0){return oi(Xo,null,t,e)}function ci(t="",e=!1){return e?($o(),Qo(qo,null,t)):oi(qo,null,t)}function ui(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(Ne(e))n=16;else if("object"==typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),ui(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||xo(e)?3===r&&eo&&(1===eo.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=eo}}else Ve(e)?(e={default:e,_ctx:eo},n=32):(e=String(e),64&r?(n=16,e=[ai(e)]):n=8);t.children=e,t.shapeFlag|=n}function pi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=pn([e.class,r.class]));else if("style"===t)e.style=on([e.style,r.style]);else if(Be(t)){const n=e[t],o=r[t];!o||n===o||Ne(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=r[t])}return e}let li=null;const hi=()=>li||eo;let fi,yi;{const t=rn||(rn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),e=(e,n)=>{let r;return(r=t[e])||(r=t[e]=[]),r.push(n),t=>{r.length>1?r.forEach((e=>e(t))):r[0](t)}};fi=e("__VUE_INSTANCE_SETTERS__",(t=>li=t)),yi=e("__VUE_SSR_SETTERS__",(t=>gi=t))}const di=t=>{const e=li;return fi(t),t.scope.on(),()=>{t.scope.off(),fi(e)}};let gi=!1;function _i(t,e,n){const r=arguments.length;return 2===r?Xe(e)&&!Ne(e)?Zo(e)?oi(t,null,[e]):oi(t,e):oi(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Zo(n)&&(n=[n]),oi(t,e,n))}var vi={svg:zt,g:ge,rect:Xt,circle:Ht,ellipse:$t,path:Ut,polygon:ee,polyline:Zt,image:ye,text:oe,"text-path":se},mi=function(t,e,n,r){void 0===e&&(e=null),void 0===r&&(r="all");var o=yr((null==t?void 0:t(n))||{}),i=(null==e?void 0:e(n))||null,s=function(){var e=(null==t?void 0:t(n))||{};Object.keys(e).forEach((function(t){y(o[t],e[t])||(o[t]=e[t])}))};return lo((function(){n.on(r,s)})),fo((function(){n.off(r,s)})),{state:kr(o),actions:i,context:n}},wi=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n="all");var r=wo("canvas");return r?mi(t,e,r,n):(console.warn("No canvas provided."),{state:{},actions:{},context:new zt})},bi=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n="all");var r=wo("collection");return r?mi(t,e,r,n):(console.warn("No collection provided."),{state:{},actions:{},context:{}})},xi=function(t,e,n,r){return void 0===n&&(n=null),void 0===r&&(r="all"),mi(e,n,t,r)},Oi=function(t,e){var n=vi[e];return n?{props:(new n).toJSON(),setup:function(r){var o=bi(null,(function(t){return{add:t.add.bind(t),remove:t.remove.bind(t)}})).actions,i=o.add,s=o.remove,a=new n(r);return lo((function(){i(a)})),fo((function(){s(a)})),function(){return _i(t,{tagName:e,shape:a,props:r})}}}:{setup:function(){return function(){return"No class belongs to the provided tag name."}}}},Pi=function(){return Pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pi.apply(this,arguments)},Si={key:1,"clip-path":"url(#grafik-drawing-area)"};const Ai=go({__name:"Canvas",props:{width:{},height:{},drawingWidth:{},drawingHeight:{},zoom:{},panX:{},panY:{},mode:{}},setup:function(t){var e=t,n=jr(null),r=wi((function(t){return{attrs:t.getAttributes(),shwAttrs:t.getShapesWrapperAttributes(),daAttrs:t.getDrawingAreaAttributes(),showGrid:t.showGrid,hasDrawingArea:t.hasDrawingArea}}),(function(t){return{set:t.set.bind(t),setSize:t.setResponsiveSize.bind(t)}}),"set"),o=r.state,i=o.attrs,s=o.daAttrs,a=o.shwAttrs,c=o.showGrid,u=o.hasDrawingArea,p=r.actions,l=p.set,h=p.setSize,f=r.context,y=function(){h(n.value)};return lo((function(){window.addEventListener("resize",y),l(Pi({},e),!0)})),fo((function(){window.removeEventListener("resize",y)})),Co(e,(function(t){l(Pi({},t),!0)})),mo("collection",f),function(t,e){return $o(),Jo("svg",pi({ref_key:"svgRef",ref:n},Er(i)),[_o(t.$slots,"defs"),Er(c)?($o(),Jo("rect",pi({key:0},Er(s),{fill:"url(#grafik-grid)"}),null,16)):ci("v-if",!0),Er(u)?($o(),Jo("g",Si,[ri("g",ln(ii(Er(a))),[_o(t.$slots,"default")],16)])):_o(t.$slots,"default",{key:2})],16)}}}),Ci=Ai,ji=go({__name:"ShapeBase",props:{tagName:{},shape:{},props:{}},setup:function(t){var e=t,n=e.shape,r=e.tagName,o=xi(n,(function(t){return{wAttrs:t.getWrapperAttributes(),attrs:t.getAttributes(!0)}}),null,"set animation:updated").state,i=o.wAttrs,s=o.attrs;return function(t,e){return $o(),Jo("g",ln(ii(Er(i))),[($o(),Qo(ao(Er(r)),ln(ii(Er(s))),{default:oo((function(){return[_o(t.$slots,"default")]})),_:3},16))],16)}}}),Fi=go({__name:"Group",props:{children:{},tagName:{},id:{},name:{},fill:{},stroke:{},strokeWidth:{},animation:{},width:{},height:{},r:{},rx:{},ry:{},d:{},points:{},left:{},top:{},angle:{},scaleX:{},scaleY:{},skewX:{},skewY:{}},setup:function(t){var e=t,n=bi(null,(function(t){return{add:t.add.bind(t),remove:t.remove.bind(t)}})).actions,r=n.add,o=n.remove,i=new ge(function(t,e){var n={};for(var r in t)e(t[r],r)||(n[r]=t[r]);return n}(e,(function(t,e){return void 0===t||"children"===e})));return lo((function(){r(i)})),fo((function(){o(i)})),mo("collection",i),function(t,n){return $o(),Qo(ji,{tagName:"g",shape:Er(i),props:e},{default:oo((function(){return[_o(t.$slots,"default")]})),_:3},8,["shape","props"])}}}),Ei=Fi,ki=go({__name:"ShapeBranch",props:{children:{},tagName:{},id:{},name:{},fill:{},stroke:{},strokeWidth:{},animation:{},width:{},height:{},r:{},rx:{},ry:{},d:{},points:{},left:{},top:{},angle:{},scaleX:{},scaleY:{},skewX:{},skewY:{}},setup:function(t){var e=t;return function(t,n){var r=co(io,"ShapeBranch",!0,!0)||"ShapeBranch";return $o(),Qo(ao("g"===e.tagName?Ei:Er(Oi)(ji,e.tagName||"")),ln(ii(e)),{default:oo((function(){var t;return[(null===(t=e.children)||void 0===t?void 0:t.length)?($o(!0),Jo(Wo,{key:0},yo(e.children,(function(t){return $o(),Qo(r,pi({key:t.id,ref_for:!0},t),null,16)})),128)):ci("v-if",!0)]})),_:1},16)}}}),Bi=go({__name:"ShapeTree",props:{json:{}},setup:function(t){var e=t;return function(t,n){return $o(!0),Jo(Wo,null,yo(e.json,(function(t){return $o(),Qo(ki,pi({key:t.id,ref_for:!0},t),null,16)})),128)}}}),Mi={key:0},Ti={key:0,id:"grafik-drawing-area"},Di={__name:"Defs",setup(t){const{state:{hasDefs:e,hasDrawingArea:n,showGrid:r,daAttrs:o,pAttrs:i,pPaths:s}}=wi((t=>({hasDefs:t.hasDefs(),hasDrawingArea:t.hasDrawingArea,showGrid:t.showGrid,daAttrs:t.getDrawingAreaAttributes(),pAttrs:t.getGridPatternAttributes(),pPaths:t.getGridPatternPaths(!0)})),null,"set");return(t,a)=>Er(e)?($o(),Jo("defs",Mi,[Er(n)?($o(),Jo("clipPath",Ti,[ri("rect",ln(ii(Er(o))),null,16)])):ci("v-if",!0),Er(r)?($o(),Jo("pattern",ln(pi({key:1},Er(i))),[($o(!0),Jo(Wo,null,yo(Er(s),(t=>($o(),Jo("path",pi({ref_for:!0},t),null,16)))),256))],16)):ci("v-if",!0)])):ci("v-if",!0)}},Li=go({__name:"ControlNode",props:{id:{},shape:{}},setup:function(t){var e=t,n=xi(e.shape,(function(t){return{attrs:t.getControl().childById(e.id).getAttributes(),style:t.getControl().childById(e.id).getStyle()}}),null,"set canvas:set animation:updated").state,r=n.attrs,o=n.style;return function(t,e){return $o(),Jo("div",pi(Er(r),{style:Er(o)}),null,16)}}}),Ni=go({__name:"Control",props:{shape:{}},setup:function(t){var e=xi(t.shape,(function(t){return{attrs:t.getControl().getAttributes(),style:t.getControl().getStyle(),nodes:t.getControl().getChildren(),playing:t.getAnimation().playing}}),null,"set canvas:set animation:played animation:paused animation:completed animation:updated").state,n=e.attrs,r=e.style,o=e.nodes,i=e.playing;return function(t,e){return Er(i)?ci("v-if",!0):($o(),Jo("div",pi({key:0},Er(n),{style:Er(r)}),[($o(!0),Jo(Wo,null,yo(Er(o),(function(e){return $o(),Qo(Li,{key:e.id,id:e.id,shape:t.shape},null,8,["id","shape"])})),128))],16))}}}),zi={class:"grafik-wrapper"},Ii={},Vi=(0,n(433).A)(Ii,[["render",function(t,e){return $o(),Jo("div",zi,[_o(t.$slots,"default")])}]]),Ri=("undefined"!=typeof document&&document,"transition"),Wi="animation",Xi=Symbol("_vtc"),qi=(t,{slots:e})=>_i(Do,function(t){const e={};for(const n in t)n in Hi||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=s,appearToClass:p=a,leaveFromClass:l=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,y=function(t){if(null==t)return null;if(Xe(t))return[Gi(t.enter),Gi(t.leave)];{const e=Gi(t);return[e,e]}}(o),d=y&&y[0],g=y&&y[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:m,onLeave:w,onLeaveCancelled:b,onBeforeAppear:x=_,onAppear:O=v,onAppearCancelled:P=m}=e,S=(t,e,n)=>{Ui(t,e?p:a),Ui(t,e?u:s),n&&n()},A=(t,e)=>{t._isLeaving=!1,Ui(t,l),Ui(t,f),Ui(t,h),e&&e()},C=t=>(e,n)=>{const o=t?O:v,s=()=>S(e,t,n);Yi(o,[e,s]),Ji((()=>{Ui(e,t?c:i),Ki(e,t?p:a),$i(o)||Zi(e,r,d,s)}))};return Me(e,{onBeforeEnter(t){Yi(_,[t]),Ki(t,i),Ki(t,s)},onBeforeAppear(t){Yi(x,[t]),Ki(t,c),Ki(t,u)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>A(t,e);Ki(t,l),Ki(t,h),document.body.offsetHeight,Ji((()=>{t._isLeaving&&(Ui(t,l),Ki(t,f),$i(w)||Zi(t,r,g,n))})),Yi(w,[t,n])},onEnterCancelled(t){S(t,!1),Yi(m,[t])},onAppearCancelled(t){S(t,!0),Yi(P,[t])},onLeaveCancelled(t){A(t),Yi(b,[t])}})}(t),e);qi.displayName="Transition";const Hi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yi=(qi.props=Me({},Mo,Hi),(t,e=[])=>{Ne(t)?t.forEach((t=>t(...e))):t&&t(...e)}),$i=t=>!!t&&(Ne(t)?t.some((t=>t.length>1)):t.length>1);function Gi(t){return nn(t)}function Ki(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[Xi]||(t[Xi]=new Set)).add(e)}function Ui(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[Xi];n&&(n.delete(e),n.size||(t[Xi]=void 0))}function Ji(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Qi=0;function Zi(t,e,n,r){const o=t._endId=++Qi,i=()=>{o===t._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:c}=function(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),o=r(`${Ri}Delay`),i=r(`${Ri}Duration`),s=ts(o,i),a=r(`${Wi}Delay`),c=r(`${Wi}Duration`),u=ts(a,c);let p=null,l=0,h=0;return e===Ri?s>0&&(p=Ri,l=s,h=i.length):e===Wi?u>0&&(p=Wi,l=u,h=c.length):(l=Math.max(s,u),p=l>0?s>u?Ri:Wi:null,h=p?p===Ri?i.length:c.length:0),{type:p,timeout:l,propCount:h,hasTransform:p===Ri&&/\b(transform|all)(,|$)/.test(r(`${Ri}Property`).toString())}}(t,e);if(!s)return r();const u=s+"end";let p=0;const l=()=>{t.removeEventListener(u,h),i()},h=e=>{e.target===t&&++p>=c&&l()};setTimeout((()=>{p<c&&l()}),a+1),t.addEventListener(u,h)}function ts(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>es(e)+es(t[n]))))}function es(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}Symbol("_vod"),Symbol("_vsh"),Symbol(""),Symbol("_vei"),"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb"),Symbol("_assign");const ns=["ctrl","shift","alt","meta"],rs={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ns.some((n=>t[`${n}Key`]&&!e.includes(n)))},os=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(n,...r)=>{for(let t=0;t<e.length;t++){const r=rs[e[t]];if(r&&r(n,e))return}return t(n,...r)})},is={__name:"Selector",setup(t){const{state:{attrs:e,style:n}}=wi((t=>({attrs:t.getSelector().getAttributes(),style:t.getSelector().getStyle()})));return(t,r)=>($o(),Jo("div",pi(Er(e),{style:Er(n)}),null,16))}},ss={__name:"Interactive",setup(t){const{state:{shapes:e,multiselection:n},actions:{mousedown:r,mousemove:o,mouseup:i,wheel:s}}=wi((t=>({shapes:t.getSelectedShapes(),multiselection:t.multiselection})),(t=>({mousedown:t.onPointerStart.bind(t),mousemove:t.onPointerMove.bind(t),mouseup:t.onPointerEnd.bind(t),wheel:t.onWheel.bind(t)})),"shapes:selection:updated");return(t,a)=>($o(),Jo("div",{class:"grafik-interactive",onMousedown:a[0]||(a[0]=os(((...t)=>Er(r)&&Er(r)(...t)),["prevent"])),onMousemove:a[1]||(a[1]=(...t)=>Er(o)&&Er(o)(...t)),onMouseup:a[2]||(a[2]=(...t)=>Er(i)&&Er(i)(...t)),onMouseleave:a[3]||(a[3]=(...t)=>Er(i)&&Er(i)(...t)),onWheel:a[4]||(a[4]=(...t)=>Er(s)&&Er(s)(...t))},[($o(!0),Jo(Wo,null,yo(Er(e),(t=>($o(),Qo(Ni,{key:t.id,shape:t},null,8,["shape"])))),128)),Er(n)?($o(),Qo(is,{key:0})):ci("v-if",!0),_o(t.$slots,"default")],32))}};var as=Oi(ji,"rect"),cs=Oi(ji,"circle"),us=Oi(ji,"ellipse"),ps=Oi(ji,"path"),ls=Oi(ji,"polygon"),hs=Oi(ji,"polyline"),fs=Oi(ji,"text"),ys=Oi(ji,"text-path"),ds=Oi(ji,"image")})(),r})()));